<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MBTIæ€§æ ¼æ¸¬é©— - æ¿¬ç‘’æˆ¿ç”¢ç”Ÿæ´»å¹³å°</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
  --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  --accent-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  --success-gradient: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
  --warning-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
  --glass-bg: rgba(255, 255, 255, 0.95);
  --glass-border: rgba(255, 255, 255, 0.3);
  --shadow-soft: 0 8px 32px rgba(0, 0, 0, 0.1);
  --shadow-hover: 0 12px 40px rgba(0, 0, 0, 0.15);
  --border-radius: 20px;
  --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
  background-size: 400% 400%;
  animation: gradientShift 15s ease infinite;
  min-height: 100vh;
  line-height: 1.6;
  color: #2d3748;
}

@keyframes gradientShift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

.glass-card {
  background: var(--glass-bg);
  backdrop-filter: blur(20px);
  border-radius: var(--border-radius);
  border: 1px solid var(--glass-border);
  box-shadow: var(--shadow-soft);
  transition: var(--transition);
}

.glass-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-hover);
}

.question-card {
  background: rgba(255, 255, 255, 0.98);
  border-radius: 24px;
  padding: 2rem;
  margin-bottom: 1.5rem;
  transition: var(--transition);
  border: 1px solid rgba(255, 255, 255, 0.4);
  position: relative;
  overflow: hidden;
}

.question-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: var(--primary-gradient);
}

.option-button {
  background: rgba(255, 255, 255, 0.9);
  border: 2px solid #e2e8f0;
  border-radius: 16px;
  padding: 1.5rem;
  width: 100%;
  text-align: left;
  transition: var(--transition);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
}

.option-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
  transition: left 0.5s;
}

.option-button:hover::before {
  left: 100%;
}

.option-button:hover {
  border-color: #667eea;
  background: rgba(102, 126, 234, 0.1);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.2);
}

.option-button.selected {
  border-color: #667eea;
  background: rgba(102, 126, 234, 0.15);
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
}

.option-button.selected::after {
  content: 'âœ“';
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: var(--primary-gradient);
  color: white;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: bold;
}

.result-card {
  background: var(--primary-gradient);
  color: white;
  border-radius: var(--border-radius);
  padding: 3rem 2rem;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.result-card::before {
  content: '';
  position: absolute;
  top: -50%;
  right: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
  animation: rotate 20s linear infinite;
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.progress-container {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50px;
  height: 12px;
  overflow: hidden;
  position: relative;
}

.progress-fill {
  background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
  height: 100%;
  border-radius: 50px;
  transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.progress-fill::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background-image: linear-gradient(
    -45deg,
    rgba(255, 255, 255, 0.2) 25%,
    transparent 25%,
    transparent 50%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0.2) 75%,
    transparent 75%,
    transparent
  );
  background-size: 50px 50px;
  animation: move 2s linear infinite;
}

@keyframes move {
  0% { background-position: 0 0; }
  100% { background-position: 50px 50px; }
}

.trait-bar {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 25px;
  height: 8px;
  overflow: hidden;
  margin: 0.5rem 0;
}

.trait-fill {
  height: 100%;
  border-radius: 25px;
  transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
}

.trait-fill.e { background: linear-gradient(90deg, #ff6b6b, #ee5a24); }
.trait-fill.i { background: linear-gradient(90deg, #4834d4, #686de0); }
.trait-fill.n { background: linear-gradient(90deg, #00d2d3, #54a0ff); }
.trait-fill.s { background: linear-gradient(90deg, #5f27cd, #341f97); }
.trait-fill.f { background: linear-gradient(90deg, #ff9ff3, #f368e0); }
.trait-fill.t { background: linear-gradient(90deg, #ff6348, #ff4757); }
.trait-fill.j { background: linear-gradient(90deg, #2ed573, #1e90ff); }
.trait-fill.p { background: linear-gradient(90deg, #ffa502, #ff6348); }

#themeToggle {
  position: fixed;
  top: 1.5rem;
  right: 1.5rem;
  background: var(--primary-gradient);
  color: #fff;
  border: none;
  padding: 1rem;
  border-radius: 50%;
  z-index: 50;
  transition: var(--transition);
  cursor: pointer;
  font-size: 1.2rem;
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: var(--shadow-soft);
}

#themeToggle:hover {
  transform: scale(1.1);
  box-shadow: var(--shadow-hover);
}

.animate-fade-in {
  animation: fadeIn 0.6s ease-out;
}

.animate-slide-up {
  animation: slideUp 0.8s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(30px);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

.type-icon {
  font-size: 4rem;
  margin-bottom: 1rem;
  animation: bounce 2s infinite;
}

@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-10px); }
  60% { transform: translateY(-5px); }
}

.strength-item, .weakness-item, .career-item {
  padding: 0.75rem 1rem;
  margin: 0.5rem 0;
  border-radius: 12px;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.strength-item {
  background: linear-gradient(135deg, rgba(67, 233, 123, 0.1), rgba(56, 249, 215, 0.1));
  border-left: 4px solid #43e97b;
}

.weakness-item {
  background: linear-gradient(135deg, rgba(250, 112, 154, 0.1), rgba(254, 225, 64, 0.1));
  border-left: 4px solid #fa709a;
}

.career-item {
  background: linear-gradient(135deg, rgba(79, 172, 254, 0.1), rgba(0, 242, 254, 0.1));
  border-left: 4px solid #4facfe;
}

.pulse {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

/* éŸ¿æ‡‰å¼è¨­è¨ˆ */
@media (max-width: 768px) {
  .question-card {
    padding: 1.5rem;
    margin-bottom: 1rem;
  }
  
  .option-button {
    padding: 1.25rem;
  }
  
  .result-card {
    padding: 2rem 1.5rem;
  }
  
  .type-icon {
    font-size: 3rem;
  }
}
</style>
</head>
<body>
<!-- ä¸»é¡Œåˆ‡æ› -->
<button id="themeToggle" aria-label="åˆ‡æ›ä¸»é¡Œæ¨¡å¼">
  <i class="fas fa-sun"></i>
</button>

<!-- è¿”å›æŒ‰éˆ• -->
<button onclick="history.back()" class="fixed top-4 left-4 glass-card p-3 z-50 hover:scale-105 transition">
  <i class="fas fa-arrow-left text-lg"></i>
</button>

<!-- æ¨™é¡Œå€ -->
<header class="text-center py-12 relative overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-br from-purple-600/20 via-blue-600/20 to-pink-600/20"></div>
  <div class="relative z-10">
    <div class="type-icon mb-4">
      <i class="fas fa-brain"></i>
    </div>
    <h1 class="text-5xl font-bold text-white mb-4 animate-fade-in">MBTI æ€§æ ¼æ¸¬é©—</h1>
    <p class="text-xl text-white/90 mb-6 animate-slide-up">æ·±åº¦äº†è§£ä½ çš„æ€§æ ¼é¡å‹èˆ‡æ½›èƒ½</p>
    <div class="flex justify-center items-center space-x-4 text-white/80">
      <div class="flex items-center">
        <i class="fas fa-clock mr-2"></i>
        <span>ç´„ 5-8 åˆ†é˜</span>
      </div>
      <div class="flex items-center">
        <i class="fas fa-users mr-2"></i>
        <span>16 ç¨®æ€§æ ¼é¡å‹</span>
      </div>
      <div class="flex items-center">
        <i class="fas fa-chart-line mr-2"></i>
        <span>å°ˆæ¥­åˆ†æ</span>
      </div>
    </div>
  </div>
</header>

<main class="px-4 py-8 max-w-4xl mx-auto space-y-8">
  <!-- æ¸¬é©—é€²åº¦ -->
  <section class="glass-card p-8 animate-slide-up">
    <div class="flex justify-between items-center mb-6">
      <div class="flex items-center">
        <i class="fas fa-chart-pie text-2xl text-purple-600 mr-3"></i>
        <h2 class="text-2xl font-bold">æ¸¬é©—é€²åº¦</h2>
      </div>
      <div class="text-right">
        <span class="text-2xl font-bold text-purple-600" id="progressText">1 / 20</span>
        <div class="text-sm text-gray-500">å·²å®Œæˆ</div>
      </div>
    </div>
    <div class="progress-container">
      <div class="progress-fill" id="progressFill" style="width: 5%"></div>
    </div>
  </section>

  <!-- æ¸¬é©—å•é¡Œ -->
  <section id="questionSection" class="question-card animate-slide-up">
    <div class="flex items-center mb-6">
      <div class="w-12 h-12 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-lg mr-4" id="questionNumber">1</div>
      <h2 class="text-2xl font-bold" id="questionTitle">æ€§æ ¼å‚¾å‘æ¸¬è©¦</h2>
    </div>
    <p class="text-xl mb-8 text-gray-700 leading-relaxed" id="questionText">åœ¨èšæœƒä¸­ï¼Œä½ æ›´å‚¾å‘æ–¼ï¼š</p>
    <div class="space-y-4">
      <button class="option-button group" onclick="selectOption('E')">
        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <div class="w-10 h-10 bg-gradient-to-br from-green-400 to-blue-500 rounded-full flex items-center justify-center text-white mr-4 group-hover:scale-110 transition-transform">
              <i class="fas fa-users"></i>
            </div>
            <div>
              <div class="font-semibold text-lg">èˆ‡å¾ˆå¤šäººäº¤è«‡ï¼Œèªè­˜æ–°æœ‹å‹</div>
              <div class="text-sm text-gray-600">å¤–å‘å‹ (Extraversion)</div>
            </div>
          </div>
          <i class="fas fa-chevron-right text-gray-400 group-hover:text-purple-500 transition-colors"></i>
        </div>
      </button>
      <button class="option-button group" onclick="selectOption('I')">
        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <div class="w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full flex items-center justify-center text-white mr-4 group-hover:scale-110 transition-transform">
              <i class="fas fa-user-friends"></i>
            </div>
            <div>
              <div class="font-semibold text-lg">èˆ‡å°‘æ•¸å¹¾å€‹è¦ªå¯†æœ‹å‹æ·±å…¥äº¤è«‡</div>
              <div class="text-sm text-gray-600">å…§å‘å‹ (Introversion)</div>
            </div>
          </div>
          <i class="fas fa-chevron-right text-gray-400 group-hover:text-purple-500 transition-colors"></i>
        </div>
      </button>
    </div>
    <div class="mt-8 flex justify-between items-center">
      <button onclick="previousQuestion()" class="px-6 py-3 glass-card text-gray-600 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:bg-white/50 transition-all" id="prevBtn" disabled>
        <i class="fas fa-arrow-left mr-2"></i>ä¸Šä¸€é¡Œ
      </button>
      <div class="text-center">
        <div class="text-sm text-gray-500 mb-1">è«‹é¸æ“‡ä¸€å€‹é¸é …</div>
        <div class="w-2 h-2 bg-purple-500 rounded-full mx-auto animate-pulse"></div>
      </div>
      <button onclick="nextQuestion()" class="px-6 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:from-purple-600 hover:to-blue-600 transition-all transform hover:scale-105" id="nextBtn" disabled>
        ä¸‹ä¸€é¡Œ<i class="fas fa-arrow-right ml-2"></i>
      </button>
    </div>
  </section>

  <!-- æ¸¬é©—çµæœ -->
  <section id="resultSection" class="result-card animate-fade-in" style="display:none;">
    <div class="relative z-10">
      <div class="flex items-center justify-center mb-6">
        <i class="fas fa-star text-4xl mr-4 animate-pulse"></i>
        <h2 class="text-3xl font-bold">æ¸¬é©—å®Œæˆï¼</h2>
        <i class="fas fa-star text-4xl ml-4 animate-pulse"></i>
      </div>
      
      <div class="mb-8">
        <div class="type-icon mb-4" id="typeIcon">
          <i class="fas fa-user"></i>
        </div>
        <div class="text-6xl font-bold mb-2" id="mbtiType">ENFP</div>
        <div class="text-2xl mb-4 opacity-90" id="mbtiTitle">ç«¶é¸è€…</div>
        <div class="text-lg opacity-90 max-w-2xl mx-auto leading-relaxed" id="mbtiDescription">
          ä½ æ˜¯ä¸€å€‹å……æ»¿ç†±æƒ…ã€å¯Œæœ‰å‰µé€ åŠ›çš„äººï¼Œå–œæ­¡æ¢ç´¢æ–°çš„å¯èƒ½æ€§å’Œèˆ‡ä»–äººå»ºç«‹æ·±å±¤æ¬¡çš„è¯ç¹«ã€‚
        </div>
      </div>
      
      <!-- æ€§æ ¼ç¶­åº¦åˆ†æ -->
      <div class="grid grid-cols-2 gap-6 mb-8">
        <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4">
          <div class="flex items-center justify-between mb-3">
            <span class="text-sm font-semibold">å¤–å‘æ€§ vs å…§å‘æ€§</span>
            <span class="text-lg font-bold" id="extroversion">75%</span>
          </div>
          <div class="trait-bar">
            <div class="trait-fill e" id="extroversionBar" style="width: 75%"></div>
          </div>
        </div>
        <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4">
          <div class="flex items-center justify-between mb-3">
            <span class="text-sm font-semibold">ç›´è¦ºæ€§ vs æ„Ÿè¦ºæ€§</span>
            <span class="text-lg font-bold" id="intuition">80%</span>
          </div>
          <div class="trait-bar">
            <div class="trait-fill n" id="intuitionBar" style="width: 80%"></div>
          </div>
        </div>
        <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4">
          <div class="flex items-center justify-between mb-3">
            <span class="text-sm font-semibold">æƒ…æ„Ÿæ€§ vs æ€è€ƒæ€§</span>
            <span class="text-lg font-bold" id="feeling">85%</span>
          </div>
          <div class="trait-bar">
            <div class="trait-fill f" id="feelingBar" style="width: 85%"></div>
          </div>
        </div>
        <div class="bg-white/10 backdrop-blur-sm rounded-xl p-4">
          <div class="flex items-center justify-between mb-3">
            <span class="text-sm font-semibold">çŸ¥è¦ºæ€§ vs åˆ¤æ–·æ€§</span>
            <span class="text-lg font-bold" id="perceiving">70%</span>
          </div>
          <div class="trait-bar">
            <div class="trait-fill p" id="perceivingBar" style="width: 70%"></div>
          </div>
        </div>
      </div>
      
      <!-- æ€§æ ¼é¡å‹è©³ç´°èªªæ˜ -->
      <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 mb-6">
        <h3 class="text-xl font-bold mb-4 flex items-center">
          <i class="fas fa-info-circle mr-3"></i>
          æ€§æ ¼é¡å‹èªªæ˜
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 text-center">
          <div class="bg-white/5 rounded-lg p-3">
            <div class="text-2xl mb-2" id="typeLetter1">E</div>
            <div class="text-sm opacity-80" id="typeDesc1">å¤–å‘å‹</div>
          </div>
          <div class="bg-white/5 rounded-lg p-3">
            <div class="text-2xl mb-2" id="typeLetter2">N</div>
            <div class="text-sm opacity-80" id="typeDesc2">ç›´è¦ºå‹</div>
          </div>
          <div class="bg-white/5 rounded-lg p-3">
            <div class="text-2xl mb-2" id="typeLetter3">F</div>
            <div class="text-sm opacity-80" id="typeDesc3">æƒ…æ„Ÿå‹</div>
          </div>
          <div class="bg-white/5 rounded-lg p-3">
            <div class="text-2xl mb-2" id="typeLetter4">P</div>
            <div class="text-sm opacity-80" id="typeDesc4">çŸ¥è¦ºå‹</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- æ€§æ ¼ç‰¹è³ª -->
  <section id="traitsSection" class="glass-card p-8 animate-slide-up" style="display:none;">
    <h2 class="text-3xl font-bold mb-8 text-center flex items-center justify-center">
      <i class="fas fa-star text-yellow-500 mr-3"></i>
      æ€§æ ¼ç‰¹è³ªåˆ†æ
      <i class="fas fa-star text-yellow-500 ml-3"></i>
    </h2>
    
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <!-- å„ªé» -->
      <div class="strength-item">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center text-white mr-4">
            <i class="fas fa-thumbs-up"></i>
          </div>
          <h3 class="text-xl font-bold text-green-700">å„ªå‹¢ç‰¹è³ª</h3>
        </div>
        <ul class="space-y-3" id="strengths">
          <li class="flex items-start">
            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
            <span class="text-gray-700">å¯Œæœ‰å‰µé€ åŠ›å’Œæƒ³åƒåŠ›</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
            <span class="text-gray-700">ç†±æƒ…æ´‹æº¢ï¼Œå……æ»¿æ´»åŠ›</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
            <span class="text-gray-700">å–„æ–¼èˆ‡äººå»ºç«‹è¯ç¹«</span>
          </li>
        </ul>
      </div>
      
      <!-- éœ€è¦æ³¨æ„çš„åœ°æ–¹ -->
      <div class="weakness-item">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-gradient-to-br from-orange-400 to-red-500 rounded-full flex items-center justify-center text-white mr-4">
            <i class="fas fa-exclamation-triangle"></i>
          </div>
          <h3 class="text-xl font-bold text-orange-700">ç™¼å±•å»ºè­°</h3>
        </div>
        <ul class="space-y-3" id="weaknesses">
          <li class="flex items-start">
            <i class="fas fa-lightbulb text-orange-500 mr-3 mt-1"></i>
            <span class="text-gray-700">æœ‰æ™‚éæ–¼ç†æƒ³åŒ–</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-lightbulb text-orange-500 mr-3 mt-1"></i>
            <span class="text-gray-700">å¯èƒ½ç¼ºä¹å¯¦ç”¨æ€§</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-lightbulb text-orange-500 mr-3 mt-1"></i>
            <span class="text-gray-700">å®¹æ˜“åˆ†å¿ƒ</span>
          </li>
        </ul>
      </div>
      
      <!-- é©åˆçš„è·æ¥­ -->
      <div class="career-item">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-gradient-to-br from-blue-400 to-indigo-500 rounded-full flex items-center justify-center text-white mr-4">
            <i class="fas fa-briefcase"></i>
          </div>
          <h3 class="text-xl font-bold text-blue-700">é©åˆè·æ¥­</h3>
        </div>
        <ul class="space-y-3" id="careers">
          <li class="flex items-start">
            <i class="fas fa-palette text-blue-500 mr-3 mt-1"></i>
            <span class="text-gray-700">è—è¡“å®¶ã€è¨­è¨ˆå¸«</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-heart text-blue-500 mr-3 mt-1"></i>
            <span class="text-gray-700">å¿ƒç†è«®è©¢å¸«</span>
          </li>
          <li class="flex items-start">
            <i class="fas fa-chart-line text-blue-500 mr-3 mt-1"></i>
            <span class="text-gray-700">è¡ŒéŠ·å°ˆå“¡</span>
          </li>
        </ul>
      </div>
    </div>
    
    <!-- æ€§æ ¼åŒ¹é…åº¦ -->
    <div class="mt-8 bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-6">
      <h3 class="text-xl font-bold mb-4 text-center flex items-center justify-center">
        <i class="fas fa-heart text-red-500 mr-2"></i>
        èˆ‡ä½ æ€§æ ¼åŒ¹é…çš„é¡å‹
      </h3>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
        <div class="bg-white/80 rounded-xl p-3">
          <div class="text-lg font-bold text-purple-600" id="matchType1">INTJ</div>
          <div class="text-sm text-gray-600">æœ€ä½³åŒ¹é…</div>
        </div>
        <div class="bg-white/80 rounded-xl p-3">
          <div class="text-lg font-bold text-blue-600" id="matchType2">INFJ</div>
          <div class="text-sm text-gray-600">è‰¯å¥½åŒ¹é…</div>
        </div>
        <div class="bg-white/80 rounded-xl p-3">
          <div class="text-lg font-bold text-green-600" id="matchType3">ENTP</div>
          <div class="text-sm text-gray-600">æœ‹å‹é—œä¿‚</div>
        </div>
        <div class="bg-white/80 rounded-xl p-3">
          <div class="text-lg font-bold text-orange-600" id="matchType4">INFP</div>
          <div class="text-sm text-gray-600">äº’è£œé—œä¿‚</div>
        </div>
      </div>
    </div>
  </section>

  <!-- é‡æ–°æ¸¬é©— -->
  <section id="retakeSection" class="glass-card p-8 text-center animate-fade-in" style="display:none;">
    <div class="max-w-md mx-auto">
      <div class="w-20 h-20 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full flex items-center justify-center text-white text-3xl mx-auto mb-6">
        <i class="fas fa-redo"></i>
      </div>
      <h2 class="text-2xl font-bold mb-4">é‡æ–°æ¸¬é©—</h2>
      <p class="text-gray-600 mb-6 leading-relaxed">æƒ³è¦æ›´æ·±å…¥äº†è§£è‡ªå·±çš„æ€§æ ¼å—ï¼Ÿé‡æ–°æ¸¬é©—å¯èƒ½æœƒçµ¦ä½ ä¸åŒçš„æ´å¯Ÿã€‚</p>
      <div class="space-y-4">
        <button onclick="restartTest()" class="w-full bg-gradient-to-r from-purple-500 to-blue-500 text-white px-8 py-4 rounded-xl font-semibold hover:from-purple-600 hover:to-blue-600 transition-all transform hover:scale-105 shadow-lg">
          <i class="fas fa-brain mr-2"></i>é‡æ–°é–‹å§‹æ¸¬é©—
        </button>
        <button onclick="shareResults()" class="w-full glass-card text-gray-600 px-8 py-4 rounded-xl font-semibold hover:bg-white/50 transition-all">
          <i class="fas fa-share-alt mr-2"></i>åˆ†äº«çµæœ
        </button>
      </div>
    </div>
  </section>
</main>

<script>
// ä¸»é¡Œåˆ‡æ›
document.getElementById('themeToggle').addEventListener('click', () => {
  document.body.classList.toggle('dark');
  const isDark = document.body.classList.contains('dark');
  document.getElementById('themeToggle').textContent = isDark ? 'ğŸŒ™' : 'ğŸŒ';
});

// æ¸¬é©—è³‡æ–™ - æ›´å°ˆæ¥­çš„å•é¡Œ
const questions = [
  {
    question: "åœ¨ç¤¾äº¤èšæœƒä¸­ï¼Œä½ æ›´å‚¾å‘æ–¼ï¼š",
    options: [
      { text: "èˆ‡å¾ˆå¤šäººäº¤è«‡ï¼Œèªè­˜æ–°æœ‹å‹ï¼Œäº«å—ç†±é¬§çš„æ°›åœ", type: "E", icon: "fas fa-users" },
      { text: "èˆ‡å°‘æ•¸å¹¾å€‹è¦ªå¯†æœ‹å‹æ·±å…¥äº¤è«‡ï¼Œé¿å…éåº¦åˆºæ¿€", type: "I", icon: "fas fa-user-friends" }
    ]
  },
  {
    question: "é¢å°æ–°é …ç›®æ™‚ï¼Œä½ é€šå¸¸ï¼š",
    options: [
      { text: "å…ˆäº†è§£æ•´é«”æ¦‚å¿µå’Œå¯èƒ½æ€§ï¼Œå†è™•ç†ç´°ç¯€", type: "N", icon: "fas fa-lightbulb" },
      { text: "å…ˆæ”¶é›†å…·é«”äº‹å¯¦å’Œæ•¸æ“šï¼Œå†åˆ¶å®šè¨ˆåŠƒ", type: "S", icon: "fas fa-chart-bar" }
    ]
  },
  {
    question: "åšé‡è¦æ±ºå®šæ™‚ï¼Œä½ ä¸»è¦ä¾è³´ï¼š",
    options: [
      { text: "è€ƒæ…®å°ä»–äººçš„å½±éŸ¿å’Œåƒ¹å€¼è§€", type: "F", icon: "fas fa-heart" },
      { text: "å®¢è§€çš„äº‹å¯¦åˆ†æå’Œé‚è¼¯æ¨ç†", type: "T", icon: "fas fa-brain" }
    ]
  },
  {
    question: "ä½ çš„ç”Ÿæ´»æ–¹å¼åå¥½ï¼š",
    options: [
      { text: "æœ‰è¨ˆåŠƒã€æœ‰æ¢ç†ï¼Œå–œæ­¡é å…ˆå®‰æ’", type: "J", icon: "fas fa-calendar-check" },
      { text: "éˆæ´»ã€éš¨æ€§ï¼Œå–œæ­¡ä¿æŒé–‹æ”¾é¸é …", type: "P", icon: "fas fa-random" }
    ]
  },
  {
    question: "åœ¨åœ˜éšŠæœƒè­°ä¸­ï¼Œä½ é€šå¸¸ï¼š",
    options: [
      { text: "ç©æ¥µç™¼è¨€ï¼Œå¸¶å‹•è¨è«–ï¼Œäº«å—äº’å‹•éç¨‹", type: "E", icon: "fas fa-comments" },
      { text: "ä»”ç´°è†è½ï¼Œæ·±æ€å¾Œæ‰ç™¼è¨€", type: "I", icon: "fas fa-ear-listen" }
    ]
  },
  {
    question: "å­¸ç¿’æ–°æŠ€èƒ½æ™‚ï¼Œä½ æ›´å–œæ­¡ï¼š",
    options: [
      { text: "æ¢ç´¢å‰µæ„æ‡‰ç”¨å’Œç†è«–èƒŒæ™¯", type: "N", icon: "fas fa-rocket" },
      { text: "å­¸ç¿’å…·é«”æ­¥é©Ÿå’Œå¯¦ç”¨æŠ€å·§", type: "S", icon: "fas fa-tools" }
    ]
  },
  {
    question: "è©•åƒ¹ä»–äººçš„å·¥ä½œæ™‚ï¼Œä½ æ›´é‡è¦–ï¼š",
    options: [
      { text: "ä»–å€‘çš„å‹•æ©Ÿã€åŠªåŠ›å’Œå€‹äººæˆé•·", type: "F", icon: "fas fa-seedling" },
      { text: "ä»–å€‘çš„æ•ˆç‡ã€æº–ç¢ºæ€§å’Œçµæœ", type: "T", icon: "fas fa-trophy" }
    ]
  },
  {
    question: "è™•ç†æ—¥å¸¸å·¥ä½œæ™‚ï¼Œä½ æ›´å–œæ­¡ï¼š",
    options: [
      { text: "æŒ‰æ—¢å®šè¨ˆåŠƒå’Œæµç¨‹åŸ·è¡Œ", type: "J", icon: "fas fa-list-check" },
      { text: "æ ¹æ“šæƒ…æ³éˆæ´»èª¿æ•´æ–¹æ³•", type: "P", icon: "fas fa-arrows-spin" }
    ]
  },
  {
    question: "ç•¶ä½ æ„Ÿåˆ°ç–²æ†Šæ™‚ï¼Œä½ æ›´å‚¾å‘æ–¼ï¼š",
    options: [
      { text: "èˆ‡æœ‹å‹èšæœƒæˆ–åƒåŠ æ´»å‹•ä¾†æ¢å¾©ç²¾åŠ›", type: "E", icon: "fas fa-glass-cheers" },
      { text: "ç¨è™•ä¼‘æ¯æˆ–é€²è¡Œå®‰éœçš„æ´»å‹•", type: "I", icon: "fas fa-book-open" }
    ]
  },
  {
    question: "é¢å°è¤‡é›œå•é¡Œæ™‚ï¼Œä½ ç¿’æ…£ï¼š",
    options: [
      { text: "å¾å®è§€è§’åº¦æ€è€ƒï¼Œå°‹æ‰¾å‰µæ–°è§£æ±ºæ–¹æ¡ˆ", type: "N", icon: "fas fa-puzzle-piece" },
      { text: "åˆ†æå…·é«”ç´°ç¯€ï¼Œå°‹æ‰¾å¯¦ç”¨è§£æ±ºæ–¹æ¡ˆ", type: "S", icon: "fas fa-microscope" }
    ]
  },
  {
    question: "åœ¨çˆ­è­°ä¸­ï¼Œä½ æ›´é—œæ³¨ï¼š",
    options: [
      { text: "ç¶­è­·å’Œè«§é—œä¿‚ï¼Œé¿å…å‚·å®³ä»–äºº", type: "F", icon: "fas fa-peace" },
      { text: "è¿½æ±‚çœŸç†å’Œå…¬æ­£ï¼Œå …æŒåŸå‰‡", type: "T", icon: "fas fa-balance-scale" }
    ]
  },
  {
    question: "ä½ æ›´å–œæ­¡çš„å·¥ä½œç’°å¢ƒï¼š",
    options: [
      { text: "æœ‰æ˜ç¢ºè¦å‰‡å’Œé æœŸçµæœ", type: "J", icon: "fas fa-building" },
      { text: "å……æ»¿è®ŠåŒ–å’Œè‡ªä¸»æ€§", type: "P", icon: "fas fa-campground" }
    ]
  },
  {
    question: "åœ¨å£“åŠ›ä¸‹ï¼Œä½ çš„åæ‡‰æ˜¯ï¼š",
    options: [
      { text: "å°‹æ±‚ä»–äººæ”¯æŒï¼Œé€šéäº¤æµç·©è§£å£“åŠ›", type: "E", icon: "fas fa-hands-helping" },
      { text: "ç¨è‡ªæ€è€ƒï¼Œé€šéå…§çœä¾†è™•ç†å£“åŠ›", type: "I", icon: "fas fa-meditation" }
    ]
  },
  {
    question: "ä½ æ›´å–œæ­¡çš„è³‡è¨Šé¡å‹ï¼š",
    options: [
      { text: "æŠ½è±¡æ¦‚å¿µå’Œç†è«–æ¡†æ¶", type: "N", icon: "fas fa-project-diagram" },
      { text: "å…·é«”äº‹å¯¦å’Œå¯¦éš›æ‡‰ç”¨", type: "S", icon: "fas fa-clipboard-list" }
    ]
  },
  {
    question: "é¢å°æ‰¹è©•æ™‚ï¼Œä½ æ›´å®¹æ˜“ï¼š",
    options: [
      { text: "é—œæ³¨æ‰¹è©•çš„æƒ…æ„Ÿå±¤é¢å’Œé—œä¿‚å½±éŸ¿", type: "F", icon: "fas fa-heart-broken" },
      { text: "åˆ†ææ‰¹è©•çš„é‚è¼¯æ€§å’Œå»ºè¨­æ€§", type: "T", icon: "fas fa-search" }
    ]
  },
  {
    question: "ä½ çš„æ™‚é–“ç®¡ç†é¢¨æ ¼ï¼š",
    options: [
      { text: "åš´æ ¼æŒ‰ç…§æ™‚é–“è¡¨åŸ·è¡Œï¼Œè¨å­å»¶èª¤", type: "J", icon: "fas fa-clock" },
      { text: "ä¿æŒå½ˆæ€§ï¼Œé©æ‡‰è®ŠåŒ–", type: "P", icon: "fas fa-hourglass-half" }
    ]
  },
  {
    question: "åœ¨å­¸ç¿’æ–°çŸ¥è­˜æ™‚ï¼Œä½ åå¥½ï¼š",
    options: [
      { text: "é€šéè¨è«–å’Œåˆ†äº«ä¾†å­¸ç¿’", type: "E", icon: "fas fa-user-graduate" },
      { text: "é€šéé–±è®€å’Œæ€è€ƒä¾†å­¸ç¿’", type: "I", icon: "fas fa-book-reader" }
    ]
  },
  {
    question: "ä½ æ›´é‡è¦–çš„å“è³ªï¼š",
    options: [
      { text: "å‰µæ–°æ€ç¶­å’Œé è¦‹", type: "N", icon: "fas fa-eye" },
      { text: "å¯¦ç”¨æ€§å’Œå¯é æ€§", type: "S", icon: "fas fa-shield-alt" }
    ]
  },
  {
    question: "åœ¨åœ˜éšŠæ±ºç­–ä¸­ï¼Œä½ å‚¾å‘æ–¼ï¼š",
    options: [
      { text: "è€ƒæ…®åœ˜éšŠæˆå“¡çš„æ„Ÿå—å’Œéœ€æ±‚", type: "F", icon: "fas fa-users-cog" },
      { text: "åŸºæ–¼å®¢è§€æ¨™æº–åšå‡ºæœ€ä½³é¸æ“‡", type: "T", icon: "fas fa-gavel" }
    ]
  },
  {
    question: "ä½ æ›´å–œæ­¡çš„é …ç›®é¡å‹ï¼š",
    options: [
      { text: "æœ‰æ˜ç¢ºæœŸé™å’Œå…·é«”ç›®æ¨™çš„é …ç›®", type: "J", icon: "fas fa-target" },
      { text: "é–‹æ”¾å¼æ¢ç´¢å’Œå‰µæ–°çš„é …ç›®", type: "P", icon: "fas fa-compass" }
    ]
  }
];

// å®Œæ•´çš„MBTIé¡å‹è³‡æ–™åº«
const mbtiTypes = {
  'ENFP': {
    title: 'ç«¶é¸è€…',
    description: 'ä½ æ˜¯ä¸€å€‹å……æ»¿ç†±æƒ…ã€å¯Œæœ‰å‰µé€ åŠ›çš„äººï¼Œå–œæ­¡æ¢ç´¢æ–°çš„å¯èƒ½æ€§å’Œèˆ‡ä»–äººå»ºç«‹æ·±å±¤æ¬¡çš„è¯ç¹«ã€‚',
    strengths: ['å¯Œæœ‰å‰µé€ åŠ›å’Œæƒ³åƒåŠ›', 'ç†±æƒ…æ´‹æº¢ï¼Œå……æ»¿æ´»åŠ›', 'å–„æ–¼èˆ‡äººå»ºç«‹è¯ç¹«', 'é©æ‡‰æ€§å¼·'],
    weaknesses: ['æœ‰æ™‚éæ–¼ç†æƒ³åŒ–', 'å¯èƒ½ç¼ºä¹å¯¦ç”¨æ€§', 'å®¹æ˜“åˆ†å¿ƒ', 'é¿å…è¡çª'],
    careers: ['è—è¡“å®¶ã€è¨­è¨ˆå¸«', 'å¿ƒç†è«®è©¢å¸«', 'è¡ŒéŠ·å°ˆå“¡', 'æ•™å¸«'],
    icon: 'fas fa-magic',
    matches: ['INTJ', 'INFJ', 'ENTP', 'INFP']
  },
  'ENFJ': {
    title: 'ä¸»äººå…¬',
    description: 'ä½ æ˜¯ä¸€å€‹å¤©ç”Ÿçš„é ˜å°è€…ï¼Œé—œå¿ƒä»–äººï¼Œå–„æ–¼æ¿€å‹µå’ŒæŒ‡å°ä»–äººå¯¦ç¾æ½›èƒ½ã€‚',
    strengths: ['å¤©ç”Ÿçš„é ˜å°èƒ½åŠ›', 'å–„æ–¼æ¿€å‹µä»–äºº', 'å…·æœ‰åŒç†å¿ƒ', 'çµ„ç¹”èƒ½åŠ›å¼·'],
    weaknesses: ['éæ–¼ç†æƒ³åŒ–', 'å®¹æ˜“éåº¦æ‰¿æ“”è²¬ä»»', 'é¿å…è¡çª', 'å¯èƒ½å¿½è¦–è‡ªå·±çš„éœ€æ±‚'],
    careers: ['æ•™å¸«ã€åŸ¹è¨“å¸«', 'äººåŠ›è³‡æºå°ˆå“¡', 'ç¤¾æœƒå·¥ä½œè€…', 'æ”¿æ²»å®¶'],
    icon: 'fas fa-crown',
    matches: ['INFP', 'ISFP', 'ENFP', 'ENTP']
  },
  'ENTP': {
    title: 'è¾¯è«–å®¶',
    description: 'ä½ æ˜¯ä¸€å€‹è°æ˜ã€å¥½å¥‡çš„æ€æƒ³å®¶ï¼Œå–œæ­¡æŒ‘æˆ°ç¾ç‹€ï¼Œæ¢ç´¢æ–°çš„å¯èƒ½æ€§ã€‚',
    strengths: ['å‰µæ–°æ€ç¶­', 'å–„æ–¼è¾¯è«–', 'é©æ‡‰æ€§å¼·', 'å……æ»¿å¥½å¥‡å¿ƒ'],
    weaknesses: ['å®¹æ˜“æ„Ÿåˆ°ç„¡èŠ', 'ç¼ºä¹è€å¿ƒ', 'å¯èƒ½éæ–¼æŒ‘å‰”', 'ä¸å–„æ–¼ç´°ç¯€'],
    careers: ['ä¼æ¥­å®¶', 'å¾‹å¸«', 'è¨˜è€…', 'ç™¼æ˜å®¶'],
    icon: 'fas fa-lightbulb',
    matches: ['INFJ', 'INTJ', 'ENFP', 'ENTJ']
  },
  'ENTJ': {
    title: 'æŒ‡æ®å®˜',
    description: 'ä½ æ˜¯ä¸€å€‹å¤©ç”Ÿçš„é ˜å°è€…ï¼Œå…·æœ‰å¼·çƒˆçš„æ±ºå¿ƒå’Œçµ„ç¹”èƒ½åŠ›ï¼Œå–„æ–¼åˆ¶å®šæˆ°ç•¥ã€‚',
    strengths: ['å¤©ç”Ÿçš„é ˜å°èƒ½åŠ›', 'æˆ°ç•¥æ€ç¶­', 'æ±ºæ–·åŠ›å¼·', 'çµ„ç¹”èƒ½åŠ›å‡ºè‰²'],
    weaknesses: ['å¯èƒ½éæ–¼å°ˆæ–·', 'ç¼ºä¹è€å¿ƒ', 'ä¸å–„è¡¨é”æƒ…æ„Ÿ', 'éæ–¼ç«¶çˆ­'],
    careers: ['CEOã€é«˜éšä¸»ç®¡', 'å¾‹å¸«', 'æ”¿æ²»å®¶', 'æŠ•è³‡éŠ€è¡Œå®¶'],
    icon: 'fas fa-chess-king',
    matches: ['INTP', 'INTJ', 'ENTP', 'ENFP']
  },
  'INFP': {
    title: 'èª¿åœè€…',
    description: 'ä½ æ˜¯ä¸€å€‹ç†æƒ³ä¸»ç¾©è€…ï¼Œé‡è¦–å€‹äººåƒ¹å€¼è§€ï¼Œè¿½æ±‚çœŸå¯¦å’Œæœ‰æ„ç¾©çš„ç”Ÿæ´»ã€‚',
    strengths: ['å¯Œæœ‰åŒæƒ…å¿ƒ', 'å¿ æ–¼åƒ¹å€¼è§€', 'å‰µæ„æ€ç¶­', 'å–„æ–¼å‚¾è½'],
    weaknesses: ['éæ–¼ç†æƒ³åŒ–', 'é¿å…è¡çª', 'å¯èƒ½éåº¦æ•æ„Ÿ', 'ç¼ºä¹å¯¦ç”¨æ€§'],
    careers: ['ä½œå®¶', 'å¿ƒç†è«®è©¢å¸«', 'è—è¡“å®¶', 'ç¤¾æœƒå·¥ä½œè€…'],
    icon: 'fas fa-dove',
    matches: ['ENFJ', 'ENTJ', 'INFJ', 'ENFP']
  },
  'INFJ': {
    title: 'æå€¡è€…',
    description: 'ä½ æ˜¯ä¸€å€‹ç¥ç§˜è€Œå¯Œæœ‰æ´å¯ŸåŠ›çš„äººï¼Œå…·æœ‰å¼·çƒˆçš„ä½¿å‘½æ„Ÿå’ŒåŒç†å¿ƒã€‚',
    strengths: ['å¯Œæœ‰æ´å¯ŸåŠ›', 'å…·æœ‰ä½¿å‘½æ„Ÿ', 'å‰µæ„æ€ç¶­', 'å–„æ–¼ç†è§£ä»–äºº'],
    weaknesses: ['éæ–¼å®Œç¾ä¸»ç¾©', 'å®¹æ˜“æ„Ÿåˆ°å­¤ç¨', 'é¿å…è¡çª', 'å¯èƒ½éåº¦ç†æƒ³åŒ–'],
    careers: ['å¿ƒç†è«®è©¢å¸«', 'ä½œå®¶', 'ç‰§å¸«', 'äººæ¬Šå·¥ä½œè€…'],
    icon: 'fas fa-eye',
    matches: ['ENFP', 'ENTP', 'INFP', 'INTJ']
  },
  'INTP': {
    title: 'æ€æƒ³å®¶',
    description: 'ä½ æ˜¯ä¸€å€‹é‚è¼¯æ€§å¼·ã€ç¨ç«‹çš„æ€æƒ³å®¶ï¼Œå–œæ­¡æ¢ç´¢è¤‡é›œçš„ç†è«–å’Œæ¦‚å¿µã€‚',
    strengths: ['é‚è¼¯æ€ç¶­å¼·', 'å®¢è§€åˆ†æ', 'å‰µæ–°æ€ç¶­', 'ç¨ç«‹è‡ªä¸»'],
    weaknesses: ['ä¸å–„è¡¨é”æƒ…æ„Ÿ', 'å¯èƒ½éæ–¼æŒ‘å‰”', 'ç¼ºä¹å¯¦ç”¨æ€§', 'å®¹æ˜“æ„Ÿåˆ°ç„¡èŠ'],
    careers: ['ç§‘å­¸å®¶', 'å·¥ç¨‹å¸«', 'å“²å­¸å®¶', 'è»Ÿé«”é–‹ç™¼è€…'],
    icon: 'fas fa-brain',
    matches: ['ENTJ', 'ESTJ', 'INTJ', 'ENTP']
  },
  'INTJ': {
    title: 'å»ºç¯‰å¸«',
    description: 'ä½ æ˜¯ä¸€å€‹ç¨ç«‹ã€æœ‰ç­–ç•¥çš„æ€æƒ³å®¶ï¼Œå–œæ­¡åˆ¶å®šé•·é è¨ˆåŠƒä¸¦å …æŒåŸ·è¡Œã€‚',
    strengths: ['æˆ°ç•¥æ€ç¶­', 'ç¨ç«‹è‡ªä¸»', 'é‚è¼¯æ¸…æ™°', 'å …æŒç›®æ¨™'],
    weaknesses: ['éæ–¼å®Œç¾ä¸»ç¾©', 'ä¸å–„è¡¨é”æƒ…æ„Ÿ', 'ç¼ºä¹è€å¿ƒ', 'éæ–¼æ‰¹åˆ¤'],
    careers: ['å·¥ç¨‹å¸«', 'ç§‘å­¸å®¶', 'ä¼æ¥­å®¶', 'é¡§å•'],
    icon: 'fas fa-drafting-compass',
    matches: ['ENFP', 'ENTP', 'INFP', 'INFJ']
  },
  'ESFP': {
    title: 'å¨›æ¨‚å®¶',
    description: 'ä½ æ˜¯ä¸€å€‹å……æ»¿æ´»åŠ›ã€å‹å–„çš„äººï¼Œå–œæ­¡äº«å—ç”Ÿæ´»ä¸¦èˆ‡ä»–äººåˆ†äº«å¿«æ¨‚ã€‚',
    strengths: ['å……æ»¿æ´»åŠ›', 'å‹å–„è¦ªåˆ‡', 'å¯¦ç”¨ä¸»ç¾©', 'å–„æ–¼æ‡‰è®Š'],
    weaknesses: ['å¯èƒ½ç¼ºä¹é•·æœŸè¦åŠƒ', 'é¿å…è¡çª', 'å®¹æ˜“æ„Ÿåˆ°ç„¡èŠ', 'å¯èƒ½éæ–¼è¡å‹•'],
    careers: ['æ¼”å“¡', 'éŠ·å”®ä»£è¡¨', 'æ´»å‹•ç­–åŠƒ', 'æ—…éŠæ¥­'],
    icon: 'fas fa-star',
    matches: ['ISFJ', 'ISTJ', 'ESFJ', 'ESTJ']
  },
  'ESFJ': {
    title: 'åŸ·æ”¿å®˜',
    description: 'ä½ æ˜¯ä¸€å€‹é—œæ„›ä»–äººã€è² è²¬ä»»çš„äººï¼Œå–„æ–¼ç¶­è­·å’Œè«§çš„ç¤¾æœƒé—œä¿‚ã€‚',
    strengths: ['è² è²¬ä»»', 'å–„æ–¼ç…§é¡§ä»–äºº', 'å¯¦ç”¨ä¸»ç¾©', 'çµ„ç¹”èƒ½åŠ›å¼·'],
    weaknesses: ['å¯èƒ½éåº¦é—œå¿ƒä»–äººçœ‹æ³•', 'é¿å…è¡çª', 'ç¼ºä¹éˆæ´»æ€§', 'å¯èƒ½å¿½è¦–è‡ªå·±çš„éœ€æ±‚'],
    careers: ['è­·å£«', 'æ•™å¸«', 'äººåŠ›è³‡æº', 'ç¤¾æœƒå·¥ä½œè€…'],
    icon: 'fas fa-handshake',
    matches: ['ISFP', 'ISTP', 'ESFP', 'ESTP']
  },
  'ESTP': {
    title: 'ä¼æ¥­å®¶',
    description: 'ä½ æ˜¯ä¸€å€‹å……æ»¿æ´»åŠ›ã€å¯¦ç”¨ä¸»ç¾©çš„äººï¼Œå–œæ­¡è¡Œå‹•å’Œå³æ™‚çš„çµæœã€‚',
    strengths: ['å……æ»¿æ´»åŠ›', 'å¯¦ç”¨ä¸»ç¾©', 'å–„æ–¼æ‡‰è®Š', 'æ¨‚è§€ç©æ¥µ'],
    weaknesses: ['å¯èƒ½ç¼ºä¹é•·æœŸè¦åŠƒ', 'å®¹æ˜“æ„Ÿåˆ°ç„¡èŠ', 'å¯èƒ½éæ–¼è¡å‹•', 'é¿å…æŠ½è±¡æ€è€ƒ'],
    careers: ['éŠ·å”®ä»£è¡¨', 'é‹å‹•å“¡', 'ä¼æ¥­å®¶', 'ç·Šæ€¥æ•‘æ´'],
    icon: 'fas fa-rocket',
    matches: ['ISFJ', 'ISTJ', 'ESFJ', 'ESTJ']
  },
  'ESTJ': {
    title: 'ç¸½ç¶“ç†',
    description: 'ä½ æ˜¯ä¸€å€‹è² è²¬ä»»ã€æœ‰çµ„ç¹”èƒ½åŠ›çš„äººï¼Œå–„æ–¼ç®¡ç†å’ŒåŸ·è¡Œä»»å‹™ã€‚',
    strengths: ['è² è²¬ä»»', 'çµ„ç¹”èƒ½åŠ›å¼·', 'å¯¦ç”¨ä¸»ç¾©', 'æ±ºæ–·åŠ›å¼·'],
    weaknesses: ['å¯èƒ½éæ–¼åƒµåŒ–', 'ç¼ºä¹éˆæ´»æ€§', 'å¯èƒ½éæ–¼å°ˆæ–·', 'ä¸å–„è¡¨é”æƒ…æ„Ÿ'],
    careers: ['ç®¡ç†è€…', 'å¾‹å¸«', 'æœƒè¨ˆå¸«', 'è»å®˜'],
    icon: 'fas fa-briefcase',
    matches: ['ISFP', 'ISTP', 'ESFP', 'ESTP']
  },
  'ISFP': {
    title: 'æ¢éšªå®¶',
    description: 'ä½ æ˜¯ä¸€å€‹æº«æŸ”ã€éˆæ´»çš„äººï¼Œé‡è¦–å€‹äººåƒ¹å€¼è§€ï¼Œå–œæ­¡æ¢ç´¢å’Œé«”é©—ã€‚',
    strengths: ['å¯Œæœ‰åŒæƒ…å¿ƒ', 'éˆæ´»æ€§å¼·', 'å¿ æ–¼åƒ¹å€¼è§€', 'å¯¦ç”¨ä¸»ç¾©'],
    weaknesses: ['é¿å…è¡çª', 'å¯èƒ½éåº¦æ•æ„Ÿ', 'ç¼ºä¹é•·æœŸè¦åŠƒ', 'å¯èƒ½éæ–¼ç†æƒ³åŒ–'],
    careers: ['è—è¡“å®¶', 'è¨­è¨ˆå¸«', 'æ”å½±å¸«', 'è­·å£«'],
    icon: 'fas fa-palette',
    matches: ['ESFJ', 'ESTJ', 'ISFJ', 'ISTJ']
  },
  'ISFJ': {
    title: 'å®ˆè­·è€…',
    description: 'ä½ æ˜¯ä¸€å€‹è² è²¬ä»»ã€é—œæ„›ä»–äººçš„äººï¼Œå–„æ–¼ç¶­è­·å‚³çµ±å’Œç…§é¡§ä»–äººã€‚',
    strengths: ['è² è²¬ä»»', 'å–„æ–¼ç…§é¡§ä»–äºº', 'å¯¦ç”¨ä¸»ç¾©', 'å¿ èª å¯é '],
    weaknesses: ['å¯èƒ½éåº¦é—œå¿ƒä»–äººçœ‹æ³•', 'é¿å…è¡çª', 'ç¼ºä¹éˆæ´»æ€§', 'å¯èƒ½å¿½è¦–è‡ªå·±çš„éœ€æ±‚'],
    careers: ['è­·å£«', 'æ•™å¸«', 'ç¤¾å·¥', 'åœ–æ›¸ç®¡ç†å“¡'],
    icon: 'fas fa-shield-alt',
    matches: ['ESFP', 'ESTP', 'ISFP', 'ISTP']
  },
  'ISTP': {
    title: 'é‘‘è³å®¶',
    description: 'ä½ æ˜¯ä¸€å€‹å†·éœã€å¯¦ç”¨çš„äººï¼Œå–„æ–¼è§£æ±ºå¯¦éš›å•é¡Œï¼Œå–œæ­¡ç¨ç«‹å·¥ä½œã€‚',
    strengths: ['å¯¦ç”¨ä¸»ç¾©', 'å–„æ–¼è§£æ±ºå•é¡Œ', 'å†·éœç†æ€§', 'ç¨ç«‹è‡ªä¸»'],
    weaknesses: ['ä¸å–„è¡¨é”æƒ…æ„Ÿ', 'å¯èƒ½éæ–¼å†·æ¼ ', 'ç¼ºä¹é•·æœŸè¦åŠƒ', 'é¿å…æ‰¿è«¾'],
    careers: ['å·¥ç¨‹å¸«', 'æ©Ÿæ¢°å¸«', 'é£›è¡Œå“¡', 'ç¨‹å¼è¨­è¨ˆå¸«'],
    icon: 'fas fa-cogs',
    matches: ['ESFJ', 'ESTJ', 'ISFJ', 'ISTJ']
  },
  'ISTJ': {
    title: 'ç‰©æµå¸«',
    description: 'ä½ æ˜¯ä¸€å€‹è² è²¬ä»»ã€å¯¦ç”¨çš„äººï¼Œé‡è¦–å‚³çµ±ï¼Œå–„æ–¼åŸ·è¡Œå’Œç¶­è­·ç§©åºã€‚',
    strengths: ['è² è²¬ä»»', 'å¯¦ç”¨ä¸»ç¾©', 'å¿ èª å¯é ', 'çµ„ç¹”èƒ½åŠ›å¼·'],
    weaknesses: ['å¯èƒ½éæ–¼åƒµåŒ–', 'ç¼ºä¹éˆæ´»æ€§', 'é¿å…è®ŠåŒ–', 'ä¸å–„è¡¨é”æƒ…æ„Ÿ'],
    careers: ['æœƒè¨ˆå¸«', 'æ³•å®˜', 'è»å®˜', 'ç®¡ç†è€…'],
    icon: 'fas fa-clipboard-check',
    matches: ['ESFP', 'ESTP', 'ISFP', 'ISTP']
  }
};

// æ¸¬é©—ç‹€æ…‹
let currentQuestion = 0;
let answers = [];
let scores = { E: 0, I: 0, N: 0, S: 0, F: 0, T: 0, J: 0, P: 0 };

// åˆå§‹åŒ–æ¸¬é©—
function initTest() {
  currentQuestion = 0;
  answers = [];
  scores = { E: 0, I: 0, N: 0, S: 0, F: 0, T: 0, J: 0, P: 0 };
  showQuestion();
}

// é¡¯ç¤ºå•é¡Œ
function showQuestion() {
  const question = questions[currentQuestion];
  document.getElementById('questionNumber').textContent = currentQuestion + 1;
  document.getElementById('questionTitle').textContent = `æ€§æ ¼å‚¾å‘æ¸¬è©¦`;
  document.getElementById('questionText').textContent = question.question;
  
  const optionsContainer = document.querySelector('.space-y-4');
  optionsContainer.innerHTML = '';
  
  question.options.forEach((option, index) => {
    const button = document.createElement('button');
    button.className = 'option-button group';
    
    const typeLabels = {
      'E': 'å¤–å‘å‹ (Extraversion)',
      'I': 'å…§å‘å‹ (Introversion)',
      'N': 'ç›´è¦ºå‹ (Intuition)',
      'S': 'æ„Ÿè¦ºå‹ (Sensing)',
      'F': 'æƒ…æ„Ÿå‹ (Feeling)',
      'T': 'æ€è€ƒå‹ (Thinking)',
      'J': 'åˆ¤æ–·å‹ (Judging)',
      'P': 'çŸ¥è¦ºå‹ (Perceiving)'
    };
    
    const gradientColors = {
      'E': 'from-green-400 to-blue-500',
      'I': 'from-purple-400 to-pink-500',
      'N': 'from-blue-400 to-indigo-500',
      'S': 'from-orange-400 to-red-500',
      'F': 'from-pink-400 to-purple-500',
      'T': 'from-indigo-400 to-blue-500',
      'J': 'from-emerald-400 to-teal-500',
      'P': 'from-yellow-400 to-orange-500'
    };
    
    button.innerHTML = `
      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <div class="w-10 h-10 bg-gradient-to-br ${gradientColors[option.type]} rounded-full flex items-center justify-center text-white mr-4 group-hover:scale-110 transition-transform">
            <i class="${option.icon}"></i>
          </div>
          <div>
            <div class="font-semibold text-lg">${option.text}</div>
            <div class="text-sm text-gray-600">${typeLabels[option.type]}</div>
          </div>
        </div>
        <i class="fas fa-chevron-right text-gray-400 group-hover:text-purple-500 transition-colors"></i>
      </div>
    `;
    button.onclick = () => selectOption(option.type);
    optionsContainer.appendChild(button);
  });
  
  updateProgress();
  updateButtons();
}

// é¸æ“‡é¸é …
function selectOption(type) {
  // æ¸…é™¤ä¹‹å‰çš„é¸æ“‡
  document.querySelectorAll('.option-button').forEach(btn => {
    btn.classList.remove('selected');
  });
  
  // æ¨™è¨˜ç•¶å‰é¸æ“‡
  event.target.closest('.option-button').classList.add('selected');
  
  answers[currentQuestion] = type;
  scores[type]++;
  
  document.getElementById('nextBtn').disabled = false;
}

// ä¸‹ä¸€é¡Œ
function nextQuestion() {
  if (currentQuestion < questions.length - 1) {
    currentQuestion++;
    showQuestion();
  } else {
    showResults();
  }
}

// ä¸Šä¸€é¡Œ
function previousQuestion() {
  if (currentQuestion > 0) {
    currentQuestion--;
    showQuestion();
    
    // æ¢å¾©ä¹‹å‰çš„é¸æ“‡
    if (answers[currentQuestion]) {
      setTimeout(() => {
        const buttons = document.querySelectorAll('.option-button');
        buttons.forEach(btn => {
          if (btn.textContent.includes(answers[currentQuestion])) {
            btn.classList.add('selected');
          }
        });
      }, 100);
    }
  }
}

// æ›´æ–°é€²åº¦
function updateProgress() {
  const progress = ((currentQuestion + 1) / questions.length) * 100;
  document.getElementById('progressFill').style.width = progress + '%';
  document.getElementById('progressText').textContent = `${currentQuestion + 1} / ${questions.length}`;
}

// æ›´æ–°æŒ‰éˆ•ç‹€æ…‹
function updateButtons() {
  document.getElementById('prevBtn').disabled = currentQuestion === 0;
  document.getElementById('nextBtn').disabled = !answers[currentQuestion];
}

// é¡¯ç¤ºçµæœ
function showResults() {
  // è¨ˆç®—MBTIé¡å‹
  const mbtiType = 
    (scores.E > scores.I ? 'E' : 'I') +
    (scores.N > scores.S ? 'N' : 'S') +
    (scores.F > scores.T ? 'F' : 'T') +
    (scores.J > scores.P ? 'J' : 'P');
  
  // ç²å–é¡å‹è³‡æ–™
  const typeData = mbtiTypes[mbtiType] || {
    title: 'æ¢ç´¢è€…',
    description: 'ä½ æ˜¯ä¸€å€‹ç¨ç‰¹çš„äººï¼Œå…·æœ‰å¤šæ¨£åŒ–çš„æ€§æ ¼ç‰¹è³ªã€‚',
    strengths: ['é©æ‡‰æ€§å¼·', 'é–‹æ”¾æ€ç¶­', 'å¹³è¡¡ç™¼å±•'],
    weaknesses: ['å¯èƒ½ç¼ºä¹æ˜ç¢ºæ–¹å‘', 'éœ€è¦æ›´å¤šè‡ªæˆ‘èªè­˜'],
    careers: ['å¤šé ˜åŸŸå°ˆå®¶', 'è‡ªç”±è·æ¥­è€…', 'å‰µæ¥­è€…'],
    icon: 'fas fa-user',
    matches: ['ENFP', 'ENTP', 'INFP', 'INFJ']
  };
  
  // è¨ˆç®—ç™¾åˆ†æ¯”å’Œå‹•ç•«
  const ePercent = Math.round((scores.E / (scores.E + scores.I)) * 100);
  const nPercent = Math.round((scores.N / (scores.N + scores.S)) * 100);
  const fPercent = Math.round((scores.F / (scores.F + scores.T)) * 100);
  const pPercent = Math.round((scores.P / (scores.J + scores.P)) * 100);
  
  // é¡¯ç¤ºçµæœ
  document.getElementById('typeIcon').innerHTML = `<i class="${typeData.icon}"></i>`;
  document.getElementById('mbtiType').textContent = mbtiType;
  document.getElementById('mbtiTitle').textContent = typeData.title;
  document.getElementById('mbtiDescription').textContent = typeData.description;
  
  // æ›´æ–°æ€§æ ¼ç¶­åº¦
  document.getElementById('extroversion').textContent = ePercent + '%';
  document.getElementById('intuition').textContent = nPercent + '%';
  document.getElementById('feeling').textContent = fPercent + '%';
  document.getElementById('perceiving').textContent = pPercent + '%';
  
  // å‹•ç•«æ›´æ–°é€²åº¦æ¢
  setTimeout(() => {
    document.getElementById('extroversionBar').style.width = ePercent + '%';
    document.getElementById('intuitionBar').style.width = nPercent + '%';
    document.getElementById('feelingBar').style.width = fPercent + '%';
    document.getElementById('perceivingBar').style.width = pPercent + '%';
  }, 500);
  
  // æ›´æ–°æ€§æ ¼é¡å‹èªªæ˜
  document.getElementById('typeLetter1').textContent = mbtiType[0];
  document.getElementById('typeLetter2').textContent = mbtiType[1];
  document.getElementById('typeLetter3').textContent = mbtiType[2];
  document.getElementById('typeLetter4').textContent = mbtiType[3];
  
  const typeDescriptions = {
    'E': 'å¤–å‘å‹', 'I': 'å…§å‘å‹',
    'N': 'ç›´è¦ºå‹', 'S': 'æ„Ÿè¦ºå‹',
    'F': 'æƒ…æ„Ÿå‹', 'T': 'æ€è€ƒå‹',
    'J': 'åˆ¤æ–·å‹', 'P': 'çŸ¥è¦ºå‹'
  };
  
  document.getElementById('typeDesc1').textContent = typeDescriptions[mbtiType[0]];
  document.getElementById('typeDesc2').textContent = typeDescriptions[mbtiType[1]];
  document.getElementById('typeDesc3').textContent = typeDescriptions[mbtiType[2]];
  document.getElementById('typeDesc4').textContent = typeDescriptions[mbtiType[3]];
  
  // é¡¯ç¤ºç‰¹è³ª
  document.getElementById('strengths').innerHTML = 
    typeData.strengths.map(s => `
      <li class="flex items-start">
        <i class="fas fa-check-circle text-green-500 mr-3 mt-1"></i>
        <span class="text-gray-700">${s}</span>
      </li>
    `).join('');
    
  document.getElementById('weaknesses').innerHTML = 
    typeData.weaknesses.map(w => `
      <li class="flex items-start">
        <i class="fas fa-lightbulb text-orange-500 mr-3 mt-1"></i>
        <span class="text-gray-700">${w}</span>
      </li>
    `).join('');
    
  document.getElementById('careers').innerHTML = 
    typeData.careers.map(c => `
      <li class="flex items-start">
        <i class="fas fa-briefcase text-blue-500 mr-3 mt-1"></i>
        <span class="text-gray-700">${c}</span>
      </li>
    `).join('');
  
  // æ›´æ–°åŒ¹é…é¡å‹
  if (typeData.matches) {
    document.getElementById('matchType1').textContent = typeData.matches[0];
    document.getElementById('matchType2').textContent = typeData.matches[1];
    document.getElementById('matchType3').textContent = typeData.matches[2];
    document.getElementById('matchType4').textContent = typeData.matches[3];
  }
  
  // é¡¯ç¤ºçµæœå€å¡Š
  document.getElementById('questionSection').style.display = 'none';
  document.getElementById('resultSection').style.display = 'block';
  document.getElementById('traitsSection').style.display = 'block';
  document.getElementById('retakeSection').style.display = 'block';
  
  // æ·»åŠ å‹•ç•«æ•ˆæœ
  document.getElementById('resultSection').classList.add('animate-fade-in');
  document.getElementById('traitsSection').classList.add('animate-slide-up');
  
  document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
}

// é‡æ–°æ¸¬é©—
function restartTest() {
  document.getElementById('resultSection').style.display = 'none';
  document.getElementById('traitsSection').style.display = 'none';
  document.getElementById('retakeSection').style.display = 'none';
  document.getElementById('questionSection').style.display = 'block';
  
  // ç§»é™¤å‹•ç•«é¡
  document.getElementById('resultSection').classList.remove('animate-fade-in');
  document.getElementById('traitsSection').classList.remove('animate-slide-up');
  
  initTest();
}

// åˆ†äº«çµæœ
function shareResults() {
  const mbtiType = document.getElementById('mbtiType').textContent;
  const mbtiTitle = document.getElementById('mbtiTitle').textContent;
  
  const shareText = `æˆ‘å‰›å‰›å®Œæˆäº†MBTIæ€§æ ¼æ¸¬é©—ï¼æˆ‘çš„æ€§æ ¼é¡å‹æ˜¯ ${mbtiType} - ${mbtiTitle}ã€‚ä½ ä¹Ÿä¾†æ¸¬æ¸¬çœ‹å§ï¼`;
  const shareUrl = window.location.href;
  
  if (navigator.share) {
    navigator.share({
      title: 'MBTIæ€§æ ¼æ¸¬é©—çµæœ',
      text: shareText,
      url: shareUrl
    });
  } else {
    // è¤‡è£½åˆ°å‰ªè²¼æ¿
    navigator.clipboard.writeText(`${shareText}\n${shareUrl}`).then(() => {
      alert('çµæœå·²è¤‡è£½åˆ°å‰ªè²¼æ¿ï¼');
    });
  }
}

// ä¸»é¡Œåˆ‡æ›åŠŸèƒ½
document.getElementById('themeToggle').addEventListener('click', () => {
  document.body.classList.toggle('dark');
  const isDark = document.body.classList.contains('dark');
  const icon = document.querySelector('#themeToggle i');
  icon.className = isDark ? 'fas fa-moon' : 'fas fa-sun';
  
  // ä¿å­˜ä¸»é¡Œåå¥½
  localStorage.setItem('mbti-theme', isDark ? 'dark' : 'light');
});

// è¼‰å…¥ä¿å­˜çš„ä¸»é¡Œ
document.addEventListener('DOMContentLoaded', () => {
  const savedTheme = localStorage.getItem('mbti-theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark');
    document.querySelector('#themeToggle i').className = 'fas fa-moon';
  }
});

// æ·»åŠ éµç›¤å°èˆªæ”¯æŒ
document.addEventListener('keydown', (e) => {
  if (e.key === 'ArrowLeft' && !document.getElementById('prevBtn').disabled) {
    previousQuestion();
  } else if (e.key === 'ArrowRight' && !document.getElementById('nextBtn').disabled) {
    nextQuestion();
  }
});

// åˆå§‹åŒ–
initTest();
</script>
</body>
</html>
