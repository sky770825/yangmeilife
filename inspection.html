<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>é©—å±‹æª¢æ¸¬ - æ¿¬ç‘’æˆ¿ç”¢ç”Ÿæ´»å¹³å°</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root {
  --grad-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --grad-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  --grad-warning: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
  --grad-danger: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
}

body {
  font-family: 'Arial', sans-serif;
  background: var(--grad-primary);
  min-height: 100vh;
}

.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.inspection-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 15px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.inspection-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.checklist-item {
  display: flex;
  align-items: center;
  padding: 0.75rem;
  border-radius: 10px;
  margin-bottom: 0.5rem;
  transition: all 0.3s ease;
}

.checklist-item:hover {
  background: rgba(102, 126, 234, 0.1);
}

.checklist-item.completed {
  background: rgba(34, 197, 94, 0.1);
  border-left: 4px solid #22c55e;
}

.checklist-item.issue {
  background: rgba(239, 68, 68, 0.1);
  border-left: 4px solid #ef4444;
}

.checkbox {
  width: 20px;
  height: 20px;
  border: 2px solid #d1d5db;
  border-radius: 4px;
  margin-right: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.checkbox.checked {
  background: #22c55e;
  border-color: #22c55e;
  position: relative;
}

.checkbox.checked::after {
  content: 'âœ“';
  position: absolute;
  color: white;
  font-size: 12px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: #e5e7eb;
  border-radius: 4px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #22c55e, #16a34a);
  transition: width 0.3s ease;
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

#themeToggle {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1000;
  background: var(--grad-primary);
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
}

#themeToggle:hover {
  transform: scale(1.1);
}

.back-btn {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.back-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(1.1);
}

.dark {
  --grad-primary: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
}

.dark .inspection-card {
  background: rgba(30, 30, 30, 0.95);
  color: white;
}

.dark .checklist-item:hover {
  background: rgba(102, 126, 234, 0.2);
}

.dark .checkbox {
  border-color: #6b7280;
}
</style>
</head>
<body>
<!-- ä¸»é¡Œåˆ‡æ›æŒ‰éˆ• -->
<button id="themeToggle" onclick="toggleTheme()">ğŸŒ“</button>

<!-- è¿”å›æŒ‰éˆ• -->
<button class="back-btn" onclick="goBack()" title="è¿”å›ä¸»é ">â†</button>

<!-- é é¢æ¨™é¡Œ -->
<div class="container mx-auto px-4 py-8">
  <div class="text-center mb-8">
    <h1 class="text-4xl md:text-6xl font-bold text-white mb-4">ğŸ” é©—å±‹æª¢æ¸¬</h1>
    <p class="text-xl text-white opacity-90">å°ˆæ¥­é©—å±‹æ¸…å–®ï¼Œç¢ºä¿è³¼å±‹å“è³ª</p>
  </div>

  <!-- é©—å±‹é€²åº¦ -->
  <div class="glass rounded-2xl p-6 mb-8 text-center">
    <h2 class="text-2xl font-bold text-white mb-4">ğŸ“Š é©—å±‹é€²åº¦</h2>
    <div class="progress-bar mb-4">
      <div class="progress-fill" id="progressFill" style="width: 0%"></div>
    </div>
    <div class="text-white">
      <span id="progressText">0</span> / <span id="totalItems">0</span> é …ç›®å·²å®Œæˆ
    </div>
  </div>

  <!-- é©—å±‹æ¸…å–® -->
  <div class="space-y-6">
    <!-- çµæ§‹æª¢æŸ¥ -->
    <div class="inspection-card">
      <h3 class="text-xl font-bold mb-4 flex items-center">
        <span class="text-2xl mr-2">ğŸ—ï¸</span>
        çµæ§‹æª¢æŸ¥
      </h3>
      <div id="structureChecklist">
        <div class="checklist-item" data-category="structure">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">ç‰†é¢è£‚ç¸«æª¢æŸ¥</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æª¢æŸ¥ç‰†é¢æ˜¯å¦æœ‰é¾œè£‚ã€æ»²æ°´ç—•è·¡</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
        <div class="checklist-item" data-category="structure">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">å¤©èŠ±æ¿æª¢æŸ¥</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æª¢æŸ¥å¤©èŠ±æ¿æ˜¯å¦å¹³æ•´ã€ç„¡æ»²æ°´</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
        <div class="checklist-item" data-category="structure">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">åœ°æ¿æª¢æŸ¥</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æª¢æŸ¥åœ°æ¿æ˜¯å¦å¹³æ•´ã€ç„¡ç©ºé¼“</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
      </div>
    </div>

    <!-- æ°´é›»æª¢æŸ¥ -->
    <div class="inspection-card">
      <h3 class="text-xl font-bold mb-4 flex items-center">
        <span class="text-2xl mr-2">âš¡</span>
        æ°´é›»æª¢æŸ¥
      </h3>
      <div id="utilityChecklist">
        <div class="checklist-item" data-category="utility">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">æ°´å£“æ¸¬è©¦</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æ¸¬è©¦æ‰€æœ‰æ°´é¾é ­æ°´å£“æ˜¯å¦æ­£å¸¸</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
        <div class="checklist-item" data-category="utility">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">æ’æ°´æ¸¬è©¦</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æ¸¬è©¦å»šæˆ¿ã€æµ´å®¤æ’æ°´æ˜¯å¦é †æš¢</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
        <div class="checklist-item" data-category="utility">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">é›»æºæ’åº§æ¸¬è©¦</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æ¸¬è©¦æ‰€æœ‰æ’åº§æ˜¯å¦é€šé›»</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
        <div class="checklist-item" data-category="utility">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">é–‹é—œæ¸¬è©¦</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æ¸¬è©¦æ‰€æœ‰é›»ç‡ˆé–‹é—œæ˜¯å¦æ­£å¸¸</div>
          </div>
          <div class="text-sm text-gray-500">ä¸€èˆ¬</div>
        </div>
      </div>
    </div>

    <!-- é–€çª—æª¢æŸ¥ -->
    <div class="inspection-card">
      <h3 class="text-xl font-bold mb-4 flex items-center">
        <span class="text-2xl mr-2">ğŸšª</span>
        é–€çª—æª¢æŸ¥
      </h3>
      <div id="doorWindowChecklist">
        <div class="checklist-item" data-category="doors">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">é–€é–åŠŸèƒ½</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æ¸¬è©¦å¤§é–€ã€æˆ¿é–“é–€é–æ˜¯å¦æ­£å¸¸</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
        <div class="checklist-item" data-category="doors">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">çª—æˆ¶é–‹é—œ</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æ¸¬è©¦çª—æˆ¶é–‹é—œæ˜¯å¦é †æš¢</div>
          </div>
          <div class="text-sm text-gray-500">ä¸€èˆ¬</div>
        </div>
        <div class="checklist-item" data-category="doors">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">ç´—çª—æª¢æŸ¥</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æª¢æŸ¥ç´—çª—æ˜¯å¦å®Œæ•´ç„¡ç ´æ</div>
          </div>
          <div class="text-sm text-gray-500">ä¸€èˆ¬</div>
        </div>
      </div>
    </div>

    <!-- è¨­å‚™æª¢æŸ¥ -->
    <div class="inspection-card">
      <h3 class="text-xl font-bold mb-4 flex items-center">
        <span class="text-2xl mr-2">ğŸ”§</span>
        è¨­å‚™æª¢æŸ¥
      </h3>
      <div id="applianceChecklist">
        <div class="checklist-item" data-category="appliances">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">ç†±æ°´å™¨</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æ¸¬è©¦ç†±æ°´å™¨æ˜¯å¦æ­£å¸¸é‹ä½œ</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
        <div class="checklist-item" data-category="appliances">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">ç©ºèª¿è¨­å‚™</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æ¸¬è©¦å†·æ°£ã€æš–æ°£æ˜¯å¦æ­£å¸¸</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
        <div class="checklist-item" data-category="appliances">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">ç“¦æ–¯è¨­å‚™</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æª¢æŸ¥ç“¦æ–¯ç®¡ç·šå’Œè¨­å‚™å®‰å…¨æ€§</div>
          </div>
          <div class="text-sm text-gray-500">é‡è¦</div>
        </div>
      </div>
    </div>

    <!-- ç’°å¢ƒæª¢æŸ¥ -->
    <div class="inspection-card">
      <h3 class="text-xl font-bold mb-4 flex items-center">
        <span class="text-2xl mr-2">ğŸŒ±</span>
        ç’°å¢ƒæª¢æŸ¥
      </h3>
      <div id="environmentChecklist">
        <div class="checklist-item" data-category="environment">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">å™ªéŸ³æ¸¬è©¦</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æª¢æŸ¥å®¤å…§å¤–å™ªéŸ³ç¨‹åº¦</div>
          </div>
          <div class="text-sm text-gray-500">ä¸€èˆ¬</div>
        </div>
        <div class="checklist-item" data-category="environment">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">æ¡å…‰æª¢æŸ¥</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æª¢æŸ¥å„æˆ¿é–“æ¡å…‰æ˜¯å¦å……è¶³</div>
          </div>
          <div class="text-sm text-gray-500">ä¸€èˆ¬</div>
        </div>
        <div class="checklist-item" data-category="environment">
          <div class="checkbox" onclick="toggleCheck(this)"></div>
          <div class="flex-1">
            <div class="font-medium">é€šé¢¨æª¢æŸ¥</div>
            <div class="text-sm text-gray-600 dark:text-gray-400">æª¢æŸ¥ç©ºæ°£æµé€šæ˜¯å¦è‰¯å¥½</div>
          </div>
          <div class="text-sm text-gray-500">ä¸€èˆ¬</div>
        </div>
      </div>
    </div>
  </div>

  <!-- é©—å±‹å ±å‘Š -->
  <div class="inspection-card mt-8">
    <h3 class="text-xl font-bold mb-4 flex items-center">
      <span class="text-2xl mr-2">ğŸ“‹</span>
      é©—å±‹å ±å‘Š
    </h3>
    <div class="space-y-4">
      <div>
        <label class="block text-sm font-medium mb-2">ç™¼ç¾å•é¡Œè¨˜éŒ„</label>
        <textarea id="issueNotes" class="w-full p-3 border border-gray-300 rounded-lg resize-none" rows="4" placeholder="è¨˜éŒ„ç™¼ç¾çš„å•é¡Œ..."></textarea>
      </div>
      <div>
        <label class="block text-sm font-medium mb-2">å»ºè­°æ”¹å–„äº‹é …</label>
        <textarea id="suggestions" class="w-full p-3 border border-gray-300 rounded-lg resize-none" rows="4" placeholder="è¨˜éŒ„å»ºè­°æ”¹å–„çš„äº‹é …..."></textarea>
      </div>
      <div class="flex gap-4">
        <button onclick="generateReport()" class="flex-1 bg-blue-500 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-600 transition">
          ğŸ“„ ç”Ÿæˆå ±å‘Š
        </button>
        <button onclick="saveReport()" class="flex-1 bg-green-500 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-600 transition">
          ğŸ’¾ å„²å­˜å ±å‘Š
        </button>
      </div>
    </div>
  </div>
</div>

<script>
// ä¸»é¡Œåˆ‡æ›
function toggleTheme() {
  document.body.classList.toggle('dark');
  localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
}

// è¼‰å…¥ä¸»é¡Œ
function loadTheme() {
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark');
  }
}

// è¿”å›ä¸»é 
function goBack() {
  window.location.href = 'ä¸»é .html';
}

// é©—å±‹æ•¸æ“š
let inspectionData = {
  completed: [],
  issues: [],
  notes: '',
  suggestions: ''
};

// è¼‰å…¥é©—å±‹æ•¸æ“š
function loadInspectionData() {
  const saved = localStorage.getItem('inspectionData');
  if (saved) {
    inspectionData = JSON.parse(saved);
    updateUI();
  }
}

// å„²å­˜é©—å±‹æ•¸æ“š
function saveInspectionData() {
  localStorage.setItem('inspectionData', JSON.stringify(inspectionData));
}

// åˆ‡æ›æª¢æŸ¥é …ç›®
function toggleCheck(checkbox) {
  const item = checkbox.parentElement;
  const isCompleted = checkbox.classList.contains('checked');
  
  if (isCompleted) {
    checkbox.classList.remove('checked');
    item.classList.remove('completed');
    // å¾å®Œæˆåˆ—è¡¨ä¸­ç§»é™¤
    const itemText = item.querySelector('.font-medium').textContent;
    inspectionData.completed = inspectionData.completed.filter(item => item !== itemText);
  } else {
    checkbox.classList.add('checked');
    item.classList.add('completed');
    // æ·»åŠ åˆ°å®Œæˆåˆ—è¡¨
    const itemText = item.querySelector('.font-medium').textContent;
    inspectionData.completed.push(itemText);
  }
  
  updateProgress();
  saveInspectionData();
}

// æ›´æ–°é€²åº¦
function updateProgress() {
  const totalItems = document.querySelectorAll('.checklist-item').length;
  const completedItems = document.querySelectorAll('.checkbox.checked').length;
  const progress = Math.round((completedItems / totalItems) * 100);
  
  document.getElementById('progressFill').style.width = progress + '%';
  document.getElementById('progressText').textContent = completedItems;
  document.getElementById('totalItems').textContent = totalItems;
}

// æ›´æ–°UI
function updateUI() {
  // æ¢å¾©æª¢æŸ¥ç‹€æ…‹
  const items = document.querySelectorAll('.checklist-item');
  items.forEach(item => {
    const itemText = item.querySelector('.font-medium').textContent;
    const checkbox = item.querySelector('.checkbox');
    
    if (inspectionData.completed.includes(itemText)) {
      checkbox.classList.add('checked');
      item.classList.add('completed');
    }
  });
  
  updateProgress();
  
  // æ¢å¾©æ–‡å­—å…§å®¹
  document.getElementById('issueNotes').value = inspectionData.notes || '';
  document.getElementById('suggestions').value = inspectionData.suggestions || '';
}

// ç”Ÿæˆå ±å‘Š
function generateReport() {
  const completedItems = document.querySelectorAll('.checkbox.checked').length;
  const totalItems = document.querySelectorAll('.checklist-item').length;
  const progress = Math.round((completedItems / totalItems) * 100);
  
  const issues = document.getElementById('issueNotes').value;
  const suggestions = document.getElementById('suggestions').value;
  
  const report = `
é©—å±‹æª¢æ¸¬å ±å‘Š
================
æª¢æ¸¬æ—¥æœŸ: ${new Date().toLocaleDateString('zh-TW')}
å®Œæˆé€²åº¦: ${completedItems}/${totalItems} (${progress}%)

æª¢æŸ¥çµæœ:
${inspectionData.completed.map(item => `âœ“ ${item}`).join('\n')}

ç™¼ç¾å•é¡Œ:
${issues || 'ç„¡'}

å»ºè­°æ”¹å–„:
${suggestions || 'ç„¡'}

å ±å‘Šç”Ÿæˆæ™‚é–“: ${new Date().toLocaleString('zh-TW')}
  `;
  
  // å‰µå»ºä¸‹è¼‰é€£çµ
  const blob = new Blob([report], { type: 'text/plain;charset=utf-8' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `é©—å±‹å ±å‘Š_${new Date().toISOString().split('T')[0]}.txt`;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
  
  alert('é©—å±‹å ±å‘Šå·²ç”Ÿæˆä¸¦ä¸‹è¼‰ï¼');
}

// å„²å­˜å ±å‘Š
function saveReport() {
  inspectionData.notes = document.getElementById('issueNotes').value;
  inspectionData.suggestions = document.getElementById('suggestions').value;
  saveInspectionData();
  alert('å ±å‘Šå·²å„²å­˜ï¼');
}

// åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
  loadTheme();
  loadInspectionData();
});
</script>
</body>
</html>
