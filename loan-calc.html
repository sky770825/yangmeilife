<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æˆ¿è²¸è©¦ç®— - æ¿¬ç‘’æˆ¿ç”¢ç”Ÿæ´»å¹³å°</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root{
  --grad:linear-gradient(135deg,#6366f1,#8b5cf6);
  --glass-bg:rgba(255,255,255,0.6);
  --glass-dark:rgba(30,30,30,0.6);
  --shadow-light:0 4px 12px rgba(0,0,0,.1);
  --shadow-hover:0 6px 16px rgba(0,0,0,.15);
  --border-radius:1rem;
  --transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

body{
  background:linear-gradient(to bottom,#f0f4ff,#fff);
  transition:var(--transition);
  font-family:system-ui,-apple-system,sans-serif;
  line-height:1.6;
}

.glass-card{
  background:var(--glass-bg);
  backdrop-filter:blur(10px);
  border-radius:var(--border-radius);
  border:1px solid rgba(255,255,255,0.2);
}

.calc-input{
  background:rgba(255,255,255,0.8);
  border:2px solid #e5e7eb;
  border-radius:0.5rem;
  padding:0.75rem;
  transition:var(--transition);
}

.calc-input:focus{
  outline:none;
  border-color:#6366f1;
  box-shadow:0 0 0 3px rgba(99,102,241,0.1);
}

.result-card{
  background:linear-gradient(135deg,#6366f1,#8b5cf6);
  color:white;
  border-radius:var(--border-radius);
  padding:1.5rem;
  text-align:center;
}

#themeToggle{
  position:fixed;
  top:1rem;
  right:1rem;
  background:var(--grad);
  color:#fff;
  border:none;
  padding:.5rem .75rem;
  border-radius:9999px;
  z-index:50;
  transition:var(--transition);
  cursor:pointer;
  font-size:1.2rem;
}
</style>
</head>
<body>
<!-- ä¸»é¡Œåˆ‡æ› -->
<button id="themeToggle" aria-label="åˆ‡æ›ä¸»é¡Œæ¨¡å¼">ğŸŒ</button>

<!-- è¿”å›æŒ‰éˆ• -->
<button onclick="history.back()" class="fixed top-4 left-4 bg-white shadow-lg rounded-full p-3 z-50 hover:scale-105 transition">
  â†
</button>

<!-- æ¨™é¡Œå€ -->
<header class="text-center py-8" style="background:var(--grad);color:white;">
  <h1 class="text-3xl font-bold">ğŸ’° æˆ¿è²¸è©¦ç®—å·¥å…·</h1>
  <p class="text-sm opacity-90 mt-2">ç²¾æº–è¨ˆç®—æ‚¨çš„æˆ¿è²¸æœˆä»˜é‡‘é¡</p>
</header>

<main class="px-4 py-6 space-y-6">
  <!-- è©¦ç®—è¡¨å–® -->
  <section class="glass-card p-6 shadow-lg">
    <h2 class="text-xl font-bold mb-4">ğŸ“Š è²¸æ¬¾è³‡è¨Š</h2>
    <div class="space-y-4">
      <div>
        <label class="block text-sm font-medium mb-2">æˆ¿å±‹ç¸½åƒ¹ (è¬å…ƒ)</label>
        <input type="number" id="housePrice" class="calc-input w-full" placeholder="ä¾‹å¦‚ï¼š1500" value="1500">
      </div>
      <div>
        <label class="block text-sm font-medium mb-2">è‡ªå‚™æ¬¾ (è¬å…ƒ)</label>
        <input type="number" id="downPayment" class="calc-input w-full" placeholder="ä¾‹å¦‚ï¼š300" value="300">
      </div>
      <div>
        <label class="block text-sm font-medium mb-2">è²¸æ¬¾å¹´é™ (å¹´)</label>
        <select id="loanTerm" class="calc-input w-full">
          <option value="20">20å¹´</option>
          <option value="30" selected>30å¹´</option>
          <option value="40">40å¹´</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium mb-2">åˆ©ç‡ (%)</label>
        <input type="number" id="interestRate" class="calc-input w-full" placeholder="ä¾‹å¦‚ï¼š2.0" value="2.0" step="0.1">
      </div>
      <button onclick="calculateLoan()" class="w-full bg-indigo-500 text-white py-3 rounded-lg font-semibold hover:bg-indigo-600 transition">
        ğŸ§® é–‹å§‹è©¦ç®—
      </button>
    </div>
  </section>

  <!-- è©¦ç®—çµæœ -->
  <section id="resultSection" class="result-card" style="display:none;">
    <h3 class="text-xl font-bold mb-4">ğŸ“ˆ è©¦ç®—çµæœ</h3>
    <div class="grid grid-cols-2 gap-4 text-center">
      <div>
        <div class="text-2xl font-bold" id="monthlyPayment">0</div>
        <div class="text-sm opacity-80">æœˆä»˜é‡‘é¡ (å…ƒ)</div>
      </div>
      <div>
        <div class="text-2xl font-bold" id="totalInterest">0</div>
        <div class="text-sm opacity-80">ç¸½åˆ©æ¯ (å…ƒ)</div>
      </div>
      <div>
        <div class="text-2xl font-bold" id="loanAmount">0</div>
        <div class="text-sm opacity-80">è²¸æ¬¾é‡‘é¡ (å…ƒ)</div>
      </div>
      <div>
        <div class="text-2xl font-bold" id="totalPayment">0</div>
        <div class="text-sm opacity-80">ç¸½é‚„æ¬¾ (å…ƒ)</div>
      </div>
    </div>
  </section>

  <!-- åˆ©ç‡åƒè€ƒ -->
  <section class="glass-card p-6 shadow-lg">
    <h3 class="text-lg font-bold mb-4">ğŸ“Š ç›®å‰å¸‚å ´åˆ©ç‡åƒè€ƒ</h3>
    <div class="space-y-3">
      <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
        <span>ğŸ¦ ä¸€èˆ¬æˆ¿è²¸</span>
        <span class="font-semibold text-indigo-600">1.8% - 2.2%</span>
      </div>
      <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
        <span>ğŸ  é’å¹´é¦–è³¼</span>
        <span class="font-semibold text-green-600">1.5% - 1.8%</span>
      </div>
      <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
        <span>ğŸ’¼ å…¬æ•™äººå“¡</span>
        <span class="font-semibold text-purple-600">1.3% - 1.6%</span>
      </div>
    </div>
  </section>

  <!-- çœéŒ¢å°è²¼å£« -->
  <section class="glass-card p-6 shadow-lg">
    <h3 class="text-lg font-bold mb-4">ğŸ’¡ çœéŒ¢å°è²¼å£«</h3>
    <div class="space-y-3 text-sm">
      <div class="flex items-start space-x-3">
        <span class="text-green-500">âœ…</span>
        <span>æé«˜è‡ªå‚™æ¬¾æ¯”ä¾‹å¯é™ä½è²¸æ¬¾é‡‘é¡å’Œåˆ©æ¯è² æ“”</span>
      </div>
      <div class="flex items-start space-x-3">
        <span class="text-green-500">âœ…</span>
        <span>é¸æ“‡è¼ƒçŸ­çš„é‚„æ¬¾å¹´é™å¯å¤§å¹…æ¸›å°‘ç¸½åˆ©æ¯æ”¯å‡º</span>
      </div>
      <div class="flex items-start space-x-3">
        <span class="text-green-500">âœ…</span>
        <span>å®šæœŸæª¢è¦–åˆ©ç‡ï¼Œé©æ™‚è¾¦ç†è½‰è²¸å¯ç¯€çœåˆ©æ¯</span>
      </div>
      <div class="flex items-start space-x-3">
        <span class="text-green-500">âœ…</span>
        <span>å–„ç”¨å¯¬é™æœŸå¯æ¸›è¼•åˆæœŸé‚„æ¬¾å£“åŠ›</span>
      </div>
    </div>
  </section>
</main>

<script>
// ä¸»é¡Œåˆ‡æ›
document.getElementById('themeToggle').addEventListener('click', () => {
  document.body.classList.toggle('dark');
  const isDark = document.body.classList.contains('dark');
  document.getElementById('themeToggle').textContent = isDark ? 'ğŸŒ™' : 'ğŸŒ';
});

// æˆ¿è²¸è©¦ç®—åŠŸèƒ½
function calculateLoan() {
  const housePrice = parseFloat(document.getElementById('housePrice').value) * 10000;
  const downPayment = parseFloat(document.getElementById('downPayment').value) * 10000;
  const loanTerm = parseInt(document.getElementById('loanTerm').value);
  const interestRate = parseFloat(document.getElementById('interestRate').value) / 100;

  if (!housePrice || !downPayment || !loanTerm || !interestRate) {
    alert('è«‹å¡«å¯«æ‰€æœ‰æ¬„ä½');
    return;
  }

  const loanAmount = housePrice - downPayment;
  const monthlyRate = interestRate / 12;
  const totalMonths = loanTerm * 12;

  // è¨ˆç®—æœˆä»˜é‡‘é¡ (æœ¬æ¯å¹³å‡æ”¤é‚„)
  const monthlyPayment = loanAmount * (monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / 
                        (Math.pow(1 + monthlyRate, totalMonths) - 1);

  const totalPayment = monthlyPayment * totalMonths;
  const totalInterest = totalPayment - loanAmount;

  // é¡¯ç¤ºçµæœ
  document.getElementById('monthlyPayment').textContent = Math.round(monthlyPayment).toLocaleString();
  document.getElementById('totalInterest').textContent = Math.round(totalInterest).toLocaleString();
  document.getElementById('loanAmount').textContent = Math.round(loanAmount).toLocaleString();
  document.getElementById('totalPayment').textContent = Math.round(totalPayment).toLocaleString();

  document.getElementById('resultSection').style.display = 'block';
  document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
}

// è‡ªå‹•è¨ˆç®—
document.querySelectorAll('input, select').forEach(element => {
  element.addEventListener('input', calculateLoan);
});
</script>
</body>
</html>
