<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>分享功能 - 濬瑒房產生活平台</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
:root {
  --grad-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --grad-success: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
}

body {
  font-family: 'Arial', sans-serif;
  background: var(--grad-primary);
  min-height: 100vh;
}

.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.share-card {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 15px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.share-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.15);
}

.share-platform {
  display: flex;
  align-items: center;
  padding: 1rem;
  border-radius: 10px;
  margin-bottom: 0.5rem;
  background: rgba(102, 126, 234, 0.05);
  transition: all 0.3s ease;
  cursor: pointer;
}

.share-platform:hover {
  background: rgba(102, 126, 234, 0.1);
  transform: translateX(5px);
}

.share-platform-icon {
  font-size: 2rem;
  margin-right: 1rem;
  width: 50px;
  text-align: center;
}

.share-platform-info {
  flex: 1;
}

.share-platform-name {
  font-weight: bold;
  color: #1f2937;
  margin-bottom: 0.25rem;
}

.share-platform-description {
  color: #6b7280;
  font-size: 0.9rem;
}

.share-platform-button {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 0.5rem 1rem;
  font-size: 0.9rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.share-platform-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
}

.share-content {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 15px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.content-preview {
  border: 2px dashed #e5e7eb;
  border-radius: 10px;
  padding: 1rem;
  margin-bottom: 1rem;
  text-align: center;
  color: #6b7280;
}

.content-preview.has-content {
  border-style: solid;
  border-color: #667eea;
  background: rgba(102, 126, 234, 0.05);
}

.content-title {
  font-weight: bold;
  color: #1f2937;
  margin-bottom: 0.5rem;
}

.content-description {
  color: #4b5563;
  line-height: 1.6;
  margin-bottom: 0.5rem;
}

.content-url {
  color: #667eea;
  font-size: 0.9rem;
  word-break: break-all;
}

.share-stats {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 15px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 1rem;
}

.stat-item {
  text-align: center;
  padding: 1rem;
  border-radius: 10px;
  background: rgba(102, 126, 234, 0.05);
}

.stat-value {
  font-size: 1.5rem;
  font-weight: bold;
  color: #667eea;
  margin-bottom: 0.25rem;
}

.stat-label {
  color: #6b7280;
  font-size: 0.9rem;
}

.qr-code {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 15px;
  padding: 1.5rem;
  margin-bottom: 1rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  text-align: center;
}

.qr-placeholder {
  width: 200px;
  height: 200px;
  background: #f3f4f6;
  border-radius: 10px;
  margin: 0 auto 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #6b7280;
  font-size: 0.9rem;
}

.form-group {
  margin-bottom: 1rem;
}

.form-label {
  display: block;
  font-weight: bold;
  color: #1f2937;
  margin-bottom: 0.5rem;
}

.form-input {
  width: 100%;
  padding: 0.75rem;
  border: 2px solid #e5e7eb;
  border-radius: 8px;
  font-size: 1rem;
  transition: border-color 0.3s ease;
}

.form-input:focus {
  outline: none;
  border-color: #667eea;
}

.form-textarea {
  min-height: 100px;
  resize: vertical;
}

.form-button {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 0.75rem 2rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
}

.form-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
}

.form-button:disabled {
  background: #9ca3af;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.copy-button {
  background: rgba(102, 126, 234, 0.1);
  color: #667eea;
  border: 2px solid #667eea;
  border-radius: 8px;
  padding: 0.5rem 1rem;
  font-size: 0.9rem;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-left: 0.5rem;
}

.copy-button:hover {
  background: #667eea;
  color: white;
}

#themeToggle {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1000;
  background: var(--grad-primary);
  border: none;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
}

#themeToggle:hover {
  transform: scale(1.1);
}

.back-btn {
  position: fixed;
  top: 20px;
  left: 20px;
  z-index: 1000;
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  width: 50px;
  height: 50px;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  transition: all 0.3s ease;
}

.back-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: scale(1.1);
}

.dark {
  --grad-primary: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
}

.dark .share-card,
.dark .share-content,
.dark .share-stats,
.dark .qr-code {
  background: rgba(30, 30, 30, 0.95);
  color: white;
}

.dark .share-platform:hover {
  background: rgba(102, 126, 234, 0.2);
}

.dark .share-platform-name,
.dark .form-label,
.dark .content-title {
  color: #f9fafb;
}

.dark .form-input {
  background: rgba(55, 65, 81, 0.5);
  border-color: #4b5563;
  color: white;
}

.dark .form-input:focus {
  border-color: #818cf8;
}

.dark .stat-value {
  color: #818cf8;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.fade-in {
  animation: fadeIn 0.3s ease-out;
}
</style>
</head>
<body>
<!-- 主題切換按鈕 -->
<button id="themeToggle" onclick="toggleTheme()">🌓</button>

<!-- 返回按鈕 -->
<button class="back-btn" onclick="goBack()" title="返回主頁">←</button>

<!-- 頁面標題 -->
<div class="container mx-auto px-4 py-8">
  <div class="text-center mb-8">
    <h1 class="text-4xl md:text-6xl font-bold text-white mb-4">📤 分享功能</h1>
    <p class="text-xl text-white opacity-90">分享優質內容，讓更多人受益</p>
  </div>

  <!-- 分享內容設定 -->
  <div class="share-content mb-8">
    <h2 class="text-xl font-bold mb-4">📝 分享內容設定</h2>
    <div class="form-group">
      <label class="form-label" for="shareTitle">標題</label>
      <input type="text" id="shareTitle" class="form-input" placeholder="請輸入分享標題" value="🏠 濬瑒房產生活平台 - 專業房產服務">
    </div>
    <div class="form-group">
      <label class="form-label" for="shareDescription">描述</label>
      <textarea id="shareDescription" class="form-input form-textarea" placeholder="請輸入分享描述">提供專業的房產服務，包括購屋諮詢、投資分析、裝潢設計等一站式服務。讓您輕鬆找到理想的家！</textarea>
    </div>
    <div class="form-group">
      <label class="form-label" for="shareUrl">網址</label>
      <input type="url" id="shareUrl" class="form-input" placeholder="請輸入分享網址" value="https://realtor-platform.com">
    </div>
    <button onclick="updatePreview()" class="form-button">
      🔄 更新預覽
    </button>
  </div>

  <!-- 內容預覽 -->
  <div class="share-card mb-8">
    <h2 class="text-xl font-bold mb-4">👀 分享預覽</h2>
    <div class="content-preview" id="contentPreview">
      <div class="text-gray-500">點擊「更新預覽」查看分享內容</div>
    </div>
  </div>

  <!-- 社交平台分享 -->
  <div class="share-card mb-8">
    <h2 class="text-xl font-bold mb-4">📱 社交平台分享</h2>
    <div class="space-y-4">
      <div class="share-platform" onclick="shareToFacebook()">
        <div class="share-platform-icon">📘</div>
        <div class="share-platform-info">
          <div class="share-platform-name">Facebook</div>
          <div class="share-platform-description">分享到 Facebook 動態時報</div>
        </div>
        <button class="share-platform-button">分享</button>
      </div>
      
      <div class="share-platform" onclick="shareToLine()">
        <div class="share-platform-icon">💬</div>
        <div class="share-platform-info">
          <div class="share-platform-name">LINE</div>
          <div class="share-platform-description">分享到 LINE 聊天室</div>
        </div>
        <button class="share-platform-button">分享</button>
      </div>
      
      <div class="share-platform" onclick="shareToWhatsApp()">
        <div class="share-platform-icon">📱</div>
        <div class="share-platform-info">
          <div class="share-platform-name">WhatsApp</div>
          <div class="share-platform-description">分享到 WhatsApp 聊天</div>
        </div>
        <button class="share-platform-button">分享</button>
      </div>
      
      <div class="share-platform" onclick="shareToTwitter()">
        <div class="share-platform-icon">🐦</div>
        <div class="share-platform-info">
          <div class="share-platform-name">Twitter</div>
          <div class="share-platform-description">分享到 Twitter 推文</div>
        </div>
        <button class="share-platform-button">分享</button>
      </div>
      
      <div class="share-platform" onclick="shareToLinkedIn()">
        <div class="share-platform-icon">💼</div>
        <div class="share-platform-info">
          <div class="share-platform-name">LinkedIn</div>
          <div class="share-platform-description">分享到 LinkedIn 專業網路</div>
        </div>
        <button class="share-platform-button">分享</button>
      </div>
    </div>
  </div>

  <!-- 分享統計 -->
  <div class="share-stats mb-8">
    <h2 class="text-xl font-bold mb-4">📊 分享統計</h2>
    <div class="stats-grid">
      <div class="stat-item">
        <div class="stat-value" id="totalShares">1,234</div>
        <div class="stat-label">總分享數</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="facebookShares">456</div>
        <div class="stat-label">Facebook</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="lineShares">321</div>
        <div class="stat-label">LINE</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="whatsappShares">234</div>
        <div class="stat-label">WhatsApp</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="twitterShares">123</div>
        <div class="stat-label">Twitter</div>
      </div>
      <div class="stat-item">
        <div class="stat-value" id="linkedinShares">100</div>
        <div class="stat-label">LinkedIn</div>
      </div>
    </div>
  </div>

  <!-- QR Code 分享 -->
  <div class="qr-code mb-8">
    <h2 class="text-xl font-bold mb-4">📱 QR Code 分享</h2>
    <div class="qr-placeholder" id="qrCode">
      <div>
        <div class="text-4xl mb-2">📱</div>
        <div>QR Code 將在這裡顯示</div>
      </div>
    </div>
    <p class="text-sm text-gray-600 dark:text-gray-400 mb-4">
      掃描 QR Code 即可快速訪問分享內容
    </p>
    <button onclick="generateQRCode()" class="form-button">
      🔄 生成 QR Code
    </button>
    <button onclick="downloadQRCode()" class="copy-button">
      💾 下載 QR Code
    </button>
  </div>

  <!-- 連結複製 -->
  <div class="share-card mb-8">
    <h2 class="text-xl font-bold mb-4">🔗 連結複製</h2>
    <div class="form-group">
      <label class="form-label" for="shareLink">分享連結</label>
      <div class="flex">
        <input type="text" id="shareLink" class="form-input" readonly value="https://realtor-platform.com">
        <button onclick="copyToClipboard()" class="copy-button">
          📋 複製
        </button>
      </div>
    </div>
    <div class="form-group">
      <label class="form-label" for="shareText">分享文字</label>
      <div class="flex">
        <textarea id="shareText" class="form-input form-textarea" readonly>🏠 濬瑒房產生活平台 - 專業房產服務

提供專業的房產服務，包括購屋諮詢、投資分析、裝潢設計等一站式服務。讓您輕鬆找到理想的家！

網址：https://realtor-platform.com</textarea>
        <button onclick="copyShareText()" class="copy-button">
          📋 複製
        </button>
      </div>
    </div>
  </div>

  <!-- 聯絡資訊 -->
  <div class="glass rounded-2xl p-6 text-center">
    <h3 class="text-xl font-bold text-white mb-4">📞 分享服務支援</h3>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-white">
      <div>
        <div class="text-2xl mb-2">📱</div>
        <div class="font-bold">技術支援</div>
        <div class="text-sm opacity-90">0925-666-597</div>
      </div>
      <div>
        <div class="text-2xl mb-2">📧</div>
        <div class="font-bold">服務信箱</div>
        <div class="text-sm opacity-90">share@realtor.com</div>
      </div>
      <div>
        <div class="text-2xl mb-2">🕒</div>
        <div class="font-bold">服務時間</div>
        <div class="text-sm opacity-90">週一至週五 9:00-18:00</div>
      </div>
    </div>
  </div>
</div>

<script>
// 主題切換
function toggleTheme() {
  document.body.classList.toggle('dark');
  localStorage.setItem('theme', document.body.classList.contains('dark') ? 'dark' : 'light');
}

// 載入主題
function loadTheme() {
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('dark');
  }
}

// 返回主頁
function goBack() {
  window.location.href = 'index.html';
}

// 更新預覽
function updatePreview() {
  const title = document.getElementById('shareTitle').value;
  const description = document.getElementById('shareDescription').value;
  const url = document.getElementById('shareUrl').value;
  
  const preview = document.getElementById('contentPreview');
  
  if (title && description && url) {
    preview.innerHTML = `
      <div class="content-title">${title}</div>
      <div class="content-description">${description}</div>
      <div class="content-url">${url}</div>
    `;
    preview.classList.add('has-content');
  } else {
    preview.innerHTML = '<div class="text-gray-500">請填寫完整的分享內容</div>';
    preview.classList.remove('has-content');
  }
  
  // 更新分享連結和文字
  document.getElementById('shareLink').value = url;
  document.getElementById('shareText').value = `${title}\n\n${description}\n\n網址：${url}`;
  
  showMessage('預覽已更新', 'success');
}

// 分享到 Facebook
function shareToFacebook() {
  const title = document.getElementById('shareTitle').value;
  const url = document.getElementById('shareUrl').value;
  
  const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(title)}`;
  window.open(shareUrl, '_blank', 'width=600,height=400');
  
  updateShareStats('facebook');
  showMessage('已開啟 Facebook 分享', 'success');
}

// 分享到 LINE
function shareToLine() {
  const title = document.getElementById('shareTitle').value;
  const description = document.getElementById('shareDescription').value;
  const url = document.getElementById('shareUrl').value;
  
  const text = `${title}\n${description}\n${url}`;
  const shareUrl = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(url)}&text=${encodeURIComponent(text)}`;
  window.open(shareUrl, '_blank', 'width=600,height=400');
  
  updateShareStats('line');
  showMessage('已開啟 LINE 分享', 'success');
}

// 分享到 WhatsApp
function shareToWhatsApp() {
  const title = document.getElementById('shareTitle').value;
  const description = document.getElementById('shareDescription').value;
  const url = document.getElementById('shareUrl').value;
  
  const text = `${title}\n${description}\n${url}`;
  const shareUrl = `https://wa.me/?text=${encodeURIComponent(text)}`;
  window.open(shareUrl, '_blank');
  
  updateShareStats('whatsapp');
  showMessage('已開啟 WhatsApp 分享', 'success');
}

// 分享到 Twitter
function shareToTwitter() {
  const title = document.getElementById('shareTitle').value;
  const url = document.getElementById('shareUrl').value;
  
  const text = `${title} ${url}`;
  const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
  window.open(shareUrl, '_blank', 'width=600,height=400');
  
  updateShareStats('twitter');
  showMessage('已開啟 Twitter 分享', 'success');
}

// 分享到 LinkedIn
function shareToLinkedIn() {
  const title = document.getElementById('shareTitle').value;
  const description = document.getElementById('shareDescription').value;
  const url = document.getElementById('shareUrl').value;
  
  const shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}&title=${encodeURIComponent(title)}&summary=${encodeURIComponent(description)}`;
  window.open(shareUrl, '_blank', 'width=600,height=400');
  
  updateShareStats('linkedin');
  showMessage('已開啟 LinkedIn 分享', 'success');
}

// 複製到剪貼板
async function copyToClipboard() {
  const linkInput = document.getElementById('shareLink');
  const link = linkInput.value;
  
  try {
    await navigator.clipboard.writeText(link);
    showMessage('連結已複製到剪貼板', 'success');
  } catch (error) {
    // 備用方法
    linkInput.select();
    document.execCommand('copy');
    showMessage('連結已複製到剪貼板', 'success');
  }
}

// 複製分享文字
async function copyShareText() {
  const textArea = document.getElementById('shareText');
  const text = textArea.value;
  
  try {
    await navigator.clipboard.writeText(text);
    showMessage('分享文字已複製到剪貼板', 'success');
  } catch (error) {
    // 備用方法
    textArea.select();
    document.execCommand('copy');
    showMessage('分享文字已複製到剪貼板', 'success');
  }
}

// 生成 QR Code
function generateQRCode() {
  const url = document.getElementById('shareUrl').value;
  const qrContainer = document.getElementById('qrCode');
  
  if (!url) {
    showMessage('請先輸入分享網址', 'error');
    return;
  }
  
  // 使用 QR Code API
  const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(url)}`;
  
  qrContainer.innerHTML = `
    <img src="${qrUrl}" alt="QR Code" style="width: 200px; height: 200px; border-radius: 10px;">
  `;
  
  showMessage('QR Code 已生成', 'success');
}

// 下載 QR Code
function downloadQRCode() {
  const qrContainer = document.getElementById('qrCode');
  const img = qrContainer.querySelector('img');
  
  if (!img) {
    showMessage('請先生成 QR Code', 'error');
    return;
  }
  
  const link = document.createElement('a');
  link.download = 'qr-code.png';
  link.href = img.src;
  link.click();
  
  showMessage('QR Code 已下載', 'success');
}

// 更新分享統計
function updateShareStats(platform) {
  const stats = {
    facebook: 'facebookShares',
    line: 'lineShares',
    whatsapp: 'whatsappShares',
    twitter: 'twitterShares',
    linkedin: 'linkedinShares'
  };
  
  const elementId = stats[platform];
  if (elementId) {
    const element = document.getElementById(elementId);
    const currentValue = parseInt(element.textContent.replace(',', ''));
    element.textContent = (currentValue + 1).toLocaleString();
  }
  
  // 更新總分享數
  const totalElement = document.getElementById('totalShares');
  const totalValue = parseInt(totalElement.textContent.replace(',', ''));
  totalElement.textContent = (totalValue + 1).toLocaleString();
}

// 顯示消息
function showMessage(message, type = 'info') {
  const messageEl = document.createElement('div');
  messageEl.className = `message message-${type}`;
  messageEl.textContent = message;
  
  messageEl.innerHTML += `
    <style>
      .message {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10001;
        padding: 1rem 2rem;
        border-radius: 8px;
        color: white;
        font-weight: 600;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        animation: slideDown 0.3s ease;
      }
      
      .message-success { background: #10b981; }
      .message-error { background: #ef4444; }
      .message-warning { background: #f59e0b; }
      .message-info { background: #3b82f6; }
      
      @keyframes slideDown {
        from { transform: translateX(-50%) translateY(-100%); opacity: 0; }
        to { transform: translateX(-50%) translateY(0); opacity: 1; }
      }
    </style>
  `;
  
  document.body.appendChild(messageEl);
  
  setTimeout(() => {
    messageEl.style.animation = 'slideUp 0.3s ease';
    setTimeout(() => messageEl.remove(), 300);
  }, 3000);
}

// 初始化
document.addEventListener('DOMContentLoaded', function() {
  loadTheme();
  updatePreview();
});
</script>
</body>
</html>
